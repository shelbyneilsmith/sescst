{"version":3,"sources":["app.js","components/forms.js","components/index.js","components/posts.js","components/reports.js","components/routes.js","components/settings.js","components/structure.js","components/utils.js","controller/appSettingsCtrl.js","controller/confirmCtrl.js","controller/formCtrl.js","controller/index.js","controller/mainCtrl.js","controller/registerCtrl.js","controller/reportBuilderCtrl.js","controller/userCtrl.js","filters/filters.js","filters/index.js","service/helpers.js","service/index.js","service/reports.js","service/utilities.js","controller/posts/activityLogFormCtrl.js","controller/posts/postCtrl.js","controller/posts/postListCtrl.js","controller/structure/sescFooterCtrl.js","controller/structure/sescHeaderCtrl.js","controller/structure/sescSidebarCtrl.js","directive/forms/blurField.js","directive/forms/complexRepeaterField.js","directive/forms/datepickerField.js","directive/forms/focusField.js","directive/forms/formField.js","directive/forms/formInclude.js","directive/forms/hideShowPassword.js","directive/forms/multiSelectChecker.js","directive/forms/repeater.js","directive/forms/select2Field.js","directive/forms/simpleRepeaterForm.js","directive/posts/postField.js","directive/reports/chartMetrics.js","directive/reports/filterSelect.js","directive/reports/formFilters.js","directive/reports/metricSelect.js","directive/reports/reportTable.js","directive/reports/reportWidget.js","directive/structure/sescMainDiv.js","directive/structure/sescSidebarDiv.js","directive/utils/dynamicElement.js","directive/utils/jsonText.js","directive/utils/staticInclude.js","service/reports/charts.js","service/reports/colorrange.js","service/reports/reportUtilities.js","service/reports/tables.js"],"names":["angular","require","inflection","module","constant","dateFormat","dateOffset","config","$interpolateProvider","startSymbol","endSymbol","uiSelectConfig","theme","resetSearchInput","appendToBody","exports","controller","directive","$routeProvider","$locationProvider","when","templateUrl","$scope","$http","$log","$window","helpers","$location","$timeout","$q","changeSettingPanel","panelID","curPanel","url","curAppSettings","getPosts","results","i","l","length","setting_name","setting_val","isJson","JSON","parse","getAppSettings","model","outputStructure","deferred","defer","settingsObj","settingsOutputArr","o","ol","push","resolve","promise","then","result","curRoles","curActivityTypes","curActivityTopics","curActivityScopes","curDeliveryMethods","curSchoolDesignations","curWorkDays","curSchoolTypes","curSchoolLevels","curDistrictSchoolServices","saveAppSettings","log","post","roles","stringify","field_rows","activity_types","activity_topics","activity_scope","delivery_methods","school_designations","work_days","school_types","school_levels","location_services","mileage_reimbursement","cell_reimbursement","global_data_links","location","href","reload","error","$routeParams","$filter","modalService","postType","post_type","postID","post_id","deleteRelType","delete_rel_type","deleteRelID","delete_rel_id","deleteRelMsg","delete_rel_msg","action_url","action_callback","redirect","deleteRelConfirm","modalOptions","closeButtonText","actionButtonText","headerText","bodyText","showModal","data","confirm","cancel","window","history","back","passwordInputType","$rootScope","$","fadeOut","globalSettings","getCurrentUser","userData","curUser","ReportUtils","$controller","extend","this","curDate","Date","saveBtnText","saveReport","deleteReport","filter_date_range","reportFilters","reportFilter","reportTypeOptions","label","value","activityReportPresets","expenseReportPresets","widgetOptions","reportFilterOpts","widgetXMetricOpts","widgetYMetricOpts","activity","expense","createFilterObj","$index","id","filterSelect","compileDeferredData","callback","postsObj","outputArr","name","setupRBData","dataCallback","allUsers","users","allDistricts","districts","allActivities","activities","promises","getDeferredPosts","all","addReportFilter","newItemNo","addNewWidget","widgetTitle","widgets","widgetType","widgetTypeLabel","title","type","typeLabel","filter","newWidgetFilterSelect","metrics","x","newWidgetXMetricSelect","y","newWidgetYMetricSelect","buildReportURL","reportType","reportPreset","reportTitle","filterDetail","destroyWidget","widget_id","obj","splice","sortBy","propertyName","reverse","buildReport","reportData","reportWidgets","reportPostType","dateStartKey","dateEndKey","userReportTitle","customerFilterType","reportStartDate","reportEndDate","dateToPDateTime","reportUser","reportDistrict","reportActivity","getPostData","first_name","last_name","logs_data","li","ll","expense_total","getTotalExpenses","reportBuilt","onbeforeunload","tableSortInit","$watch","curPresetOptions","reportBuilderInit","editingReport","getURLParameter","chartControlsOpen","buildReportFromURL","input","isObject","Error","Object","keys","replace","parseInt","cellreimformatFilter","cached","undefined","apiUrl","post_filter","appSettings","posts","globalcellreimrate","$stateful","repeaterField","maxVal","totalFilter","total","rows","rl","j","field_id","field_val","txt","charAt","toUpperCase","substr","toLowerCase","titleKey","urlKey","subLevel","curTitle","curUrl","linksList","$sce","text","trustAsHtml","val","filterObj","outputVal","startDate","endDate","factory","get","current_user","getPostID","postName","post_name","returnData","str","e","date","Number","prototype","padLeft","base","chr","len","String","Array","join","datetime","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","getObjByValue","arr","p","hasOwnProperty","clone","copy","constructor","attr","arrayClean","deleteValue","decodeURIComponent","RegExp","exec","removeURLParameter","parameter","urlparts","split","prefix","encodeURIComponent","pars","lastIndexOf","postData","total_mileage","expense_repeaters","itemized_meals","hotel_reimbursement","other_reimbursement","r","f","fl","service","$uibModal","modalDefaults","backdrop","keyboard","modalFade","customModalDefaults","customModalOptions","show","tempModalDefaults","tempModalOptions","$uibModalInstance","ok","close","dismiss","open","saveActivityLog","saveExpenseSheet","singleTemplate","key","editAccess","admin_only","deletePost","actionCallback","expense_sheet","activity_log","path","search","$templateCache","postFilter","postFilterKey","post_filter_key","postFilterVal","post_filter_val","createPostURL","postList","getListTemplate","UserAuth","loggedIn","initSettingsPanel","$parent","isActive","viewLocation","active","$parse","link","scope","elem","attrs","bind","$apply","blurMe","tpl","restrict","fieldName","fields","fieldModels","template","serializedFieldVal","getNumber","num","buildFieldsObj","filtered","curVal","$i","$j","$c","fieldObj","fieldVal","$rowsArr","updateModels","newValue","$newValue","filteredValue","addItem","removeItem","initDate","getDayClass","mode","dayToCheck","setHours","events","currentDay","status","dateInput","clear","inlineOptions","customClass","minDate","showWeeks","dateOptions","formatYear","maxDate","startingDay","toggleMin","popup","opened","formats","format","altInputFormats","trigger","element","focus","$compile","$templateRequest","fieldModel","placeholder","autoFocus","selectOptions","simpleSelect","keyVal","html","append","formPrefix","hideShowPassword","terminal","priority","compile","removeAttr","pre","iElement","iAttrs","options","Multiple","setAttribute","repeaterType","inData","newItem","editorFlags","unbind","rowsLength","editing","$l","rowData","fieldData","newVal","field_label","field_type","index","editItem","multiple","minWidth","optionKey","optionVal","only","toString","indexOf","buildSelectmodel","uiSelectOptions","selectModel","allowAll","optionsLabel","concat","buildAllValuesArr","allValuesArr","unbindModelWatch","outputValue","allOptionsFound","some","el","clonedData","curData","dataOutput","fieldType","adminOnly","relationship","isTitle","formattedOutput","relation","editBtn","fieldInclude","editMode","applyFilter","displayValue","inDataVal","initValue","oldValue","optionsPostType","optionsPostFilter","optionsOnly","allowAllOptions","optionKeyVal","isArray","testValueForArray","editPostField","oldDisplayValue","remove","savePostField","saveValue","field_key","field_value","jQuery","success","closeEditField","fieldKeys","axis","metricOpts","WidgetTable","WidgetChart","widgetTitleEdit","widgetTypeEdit","metricsCollapsed","widget","getXMetricPT","renderWidgetData","chartData","filterStr","chartDataCallback","metricXData","metricYData","chartLabels","calcTimeSpent","chartElem","chart","destroy","makeChart","makeTable","metricXPT","updateWidgetTitle","action","widgetNewTitle","updateWidgetType","selectedWidgetType","updateWidget","compileMetricsGroup","inGroup","outArr","metricsLength","m","widgetMetricOpt","widgetMetricOpts","widgetInit","document","getElementById","replaceWith","ngModelCtrl","fromUser","trim","lastValid","fromJson","$setValidity","toUser","object","toJson","$parsers","$formatters","$eval","ngModel","$setViewValue","$render","transclude","ctrl","templatePath","staticInclude","response","contents","$new","ColorRange","availColors","chartType","chartCanvas","chartDataVals","chartOptions","chartDataSets","bgColor","chartCtx","getContext","width","height","getColorRange","backgroundColor","labels","datasets","thisChart","Chart","changeHue","rgb","degree","hsl","rgbToHSL","h","hslToRGB","g","b","cMax","Math","max","cMin","min","delta","s","abs","c","normalize_rgb_value","rgbToHex","color","floor","slice","colorRange","numColors","curHue","rison","$reportType","$reportPreset","$reportTitle","$reportFilters","$widgets","editingID","edit","curPath","newUrl","encodeURI","widgetsObj","encode","$widgetsArr","$callback","urlParams","widgetKey","decodeURI","decode","editID","reportURL","report_url","editing_id","report_id","postObj","logKeyX","logs","idExistsInArr","totalHours","activity_hours","tableData"],"mappings":"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","file":"scripts.min.js","sourcesContent":["var angular = require('angular');\nvar inflection = require('inflection');\n\nrequire('angular-route');\nrequire('angular-animate');\n\nrequire('nginflection');\nrequire('ui-select');\nrequire('angular-sanitize');\nrequire('angular-ui-bootstrap');\nrequire('chart.js');\n// require('angular-rison');\n\nrequire('./controller');\nrequire('./directive');\nrequire('./service');\nrequire('./components');\nrequire('./filters');\n\n/**\n * The main angular module for the staff tools app\n * @type {angular.Module}\n */\n'use strict';\n\nangular.module('sescstafftools', [\n\t'ngRoute',\n\t'ngInflection',\n\t'ngAnimate',\n\t'ui.select',\n\t'ui.bootstrap',\n\t'ngSanitize',\n\t'sescst-utils',\n\t'main-controller',\n\t'sescst-structure',\n\t'helper-services',\n\t'utility-services',\n\t'sescst-forms',\n\t'app-filters',\n\t'sescst-posts',\n\t'sescst-app-settings',\n\t'reports-services',\n\t'sescst-report-builder',\n])\n.constant('config', {\n\tdateFormat: 'MMM d, y',\n\tdateOffset: '+0500'\n})\n.config(['$interpolateProvider', function($interpolateProvider) {\n\t$interpolateProvider.startSymbol('{[');\n\t$interpolateProvider.endSymbol(']}');\n}])\n.config(['uiSelectConfig', function(uiSelectConfig) {\n\tuiSelectConfig.theme = 'select2';\n\tuiSelectConfig.resetSearchInput = true;\n\tuiSelectConfig.appendToBody = true;\n}])\n.config(require('./components/routes'));\n","'use strict';\n\nmodule.exports = angular.module('sescst-forms', [])\n\t.controller('formCtrl', require('../controller/formCtrl'))\n\n\t.directive('formInclude', require('../directive/forms/formInclude'))\n\n\t.directive('formField', require('../directive/forms/formField'))\n\n\t.directive('hideshowpass', require('../directive/forms/hideShowPassword'))\n\t.directive('focusMe', require('../directive/forms/focusField'))\n\t// .directive('blurMe', require('../directive/forms/blurField'))\n\n\t.directive('multiSelectChecker', require('../directive/forms/multiSelectChecker'))\n\n\t.directive('select2Field', require('../directive/forms/select2Field'))\n\t.directive('datePickerField', require('../directive/forms/datePickerField'))\n\t.directive('repeater', require('../directive/forms/repeater'))\n\t.directive('simpleRepeaterForm', require('../directive/forms/simpleRepeaterForm'))\n\t.directive('complexRepeaterField', require('../directive/forms/complexRepeaterField'))\n","'use strict';\n\nrequire('./utils');\nrequire('./structure');\nrequire('./forms');\nrequire('./posts');\nrequire('./settings');\nrequire('./reports');\n","'use strict';\n\nmodule.exports = angular.module('sescst-posts', [])\n\t.controller('PostCtrl', require('../controller/posts/postCtrl'))\n\t.controller('ActivityLogFormCtrl', require('../controller/posts/activityLogFormCtrl'))\n\n\t.directive('postfield', require('../directive/posts/postField'))\n","'use strict';\n\nmodule.exports = angular.module('sescst-report-builder', [])\n\t.controller('reportBuilderCtrl', require('../controller/reportBuilderCtrl'))\n\t.directive('formFilters', require('../directive/reports/formFilters'))\n\t.directive('reportWidget', require('../directive/reports/reportWidget'))\n\t.directive('filterSelect', require('../directive/reports/filterSelect'))\n\t.directive('metricSelect', require('../directive/reports/metricSelect'))\n\t.directive('reportTable', require('../directive/reports/reportTable'))\n\t.directive('chartMetrics', require('../directive/reports/chartMetrics'));\n","module.exports = ['$routeProvider', '$locationProvider', function($routeProvider, $locationProvider) {\n\t$routeProvider\n\t\t.when('/',  {\n\t\t\ttemplateUrl: '../templates/staff-tools-index.html',\n\t\t\tcontroller: require('../controller/mainCtrl')\n\t\t})\n\t\t.when('/posts', {\n\t\t\ttemplateUrl: '../templates/post-list.html',\n\t\t\tcontroller: require('../controller/posts/postListCtrl')\n\t\t})\n\t\t.when('/post', {\n\t\t\ttemplateUrl: '../templates/single-post.html',\n\t\t\tcontroller: 'PostCtrl'\n\t\t})\n\t\t.when('/confirm', {\n\t\t\ttemplateUrl: '../templates/confirm.html',\n\t\t\tcontroller: require('../controller/confirmCtrl')\n\t\t// })\n\t\t// .otherwise({\n\t\t// \tredirectTo: '/'\n\t\t});\n\n\t// $locationProvider.html5Mode(true, false, false);\n}];\n\n// module.exports = ['$stateProvider', '$urlRouterProvider', function($stateProvider, $urlRouterProvider) {\n// \t//\n// \t// For any unmatched url, redirect to /state1\n// \t// $urlRouterProvider.otherwise(\"/state1\");\n// \t//\n// \t// Now set up the states\n// \t$stateProvider\n// \t.state('staff-tools-index', {\n// \t\turl: \"/\",\n// \t\ttemplateUrl: '../templates/staff-tools-index.html',\n// \t\tcontroller: require('../controller/mainCtrl')\n// \t})\n// \t.state('post-list', {\n// \t\turl: \"/posts\",\n// \t\ttemplateUrl: '../templates/post-list.html',\n// \t\tcontroller: require('../controller/postListCtrl')\n// \t});\n// }];\n","'use strict';\n\nmodule.exports = angular.module('sescst-app-settings', [])\n\t.controller('appSettingsCtrl', require('../controller/appSettingsCtrl'))\n\n\t// .directive('roleManager', require('../directive/forms/roleManager'))\n","'use strict';\n\nmodule.exports = angular.module('sescst-structure', [])\n\t.directive('sidebar', require('../directive/structure/sescSidebarDiv'))\n\t.directive('main', require('../directive/structure/sescMainDiv'))\n\n\t.controller('sescHeaderCtrl', require('../controller/structure/sescHeaderCtrl'))\n\t.controller('sescSidebarCtrl', require('../controller/structure/sescSidebarCtrl'))\n\t// .controller('sescMainCtrl', require('../controller/structure/sescMainCtrl'))\n\t.controller('sescFooterCtrl', require('../controller/structure/sescFooterCtrl'));\n","'use strict';\n\nmodule.exports = angular.module('sescst-utils', [])\n\t.directive('jsonText', require('../directive/utils/jsonText'))\n\t.directive('dynamicElement', require('../directive/utils/dynamicElement'))\n\t.directive('staticInclude', require('../directive/utils/staticInclude'));\n","/**\n * The main controller for the application settings page. The controller:\n * -\n */\n'use strict';\n\nmodule.exports = ['$scope', '$http', '$log', '$window', 'helpers', '$location', '$timeout', '$q', function($scope, $http, $log, $window, helpers, $location, $timeout, $q) {\n\n\t$scope.changeSettingPanel = function(panelID) {\n\t\t$scope.curPanel = panelID;\n\t\t$location.url(panelID);\n\t};\n\n\n\t$scope.curAppSettings = {};\n\thelpers.getPosts('AppSettings', '', function(results) {\n\t\tif (results) {\n\t\t\tfor (var i = 0, l = results.length; i < l; i++) {\n\t\t\t\t$scope.curAppSettings[results[i].setting_name] = results[i].setting_val;\n\n\t\t\t\tif (helpers.isJson(results[i].setting_val)) {\n\t\t\t\t\t$scope.curAppSettings[results[i].setting_name] = JSON.parse(results[i].setting_val);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t});\n\n\t$scope.getAppSettings = function(model, outputStructure) {\n\t\tvar deferred = $q.defer();\n\n\t\thelpers.getPosts(model, '', function(results) {\n\t\t\tif (results) {\n\t\t\t\tvar settingsObj, settingsOutputArr = [];\n\n\t\t\t\t// loop through setting results\n\t\t\t\tfor (var i = 0, l = results.length; i < l; i++) {\n\t\t\t\t\tsettingsObj = {};\n\t\t\t\t\t// loop through output structure array\n\t\t\t\t\tfor (var o=0, ol=outputStructure.length; o < ol; o++) {\n\t\t\t\t\t\tsettingsObj[outputStructure[o]] = results[i][outputStructure[o]];\n\t\t\t\t\t}\n\n\t\t\t\t\tsettingsOutputArr.push(settingsObj);\n\t\t\t\t}\n\n\t\t\t\tdeferred.resolve(settingsOutputArr);\n\t\t\t}\n\t\t});\n\n\t\treturn deferred.promise;\n\t};\n\n\t$scope.getAppSettings('Role', ['name', 'description']).then(function(result) {\n\t\t$scope.curRoles = result;\n\t});\n\n\t$scope.getAppSettings('Activity_Type', ['name', 'description']).then(function(result) {\n\t\t$scope.curActivityTypes = result;\n\t});\n\n\t$scope.getAppSettings('Activity_Topic', ['name', 'description']).then(function(result) {\n\t\t$scope.curActivityTopics = result;\n\t});\n\n\t$scope.getAppSettings('Activity_Scope', ['name', 'description']).then(function(result) {\n\t\t$scope.curActivityScopes = result;\n\t});\n\n\t$scope.getAppSettings('Delivery_Method', ['name', 'description']).then(function(result) {\n\t\t$scope.curDeliveryMethods = result;\n\t});\n\n\t$scope.getAppSettings('School_Designation', ['name', 'description']).then(function(result) {\n\t\t$scope.curSchoolDesignations = result;\n\t});\n\n\t$scope.getAppSettings('Work_Day', ['name', 'description']).then(function(result) {\n\t\t$scope.curWorkDays = result;\n\t});\n\n\t$scope.getAppSettings('School_Type', ['name']).then(function(result) {\n\t\t$scope.curSchoolTypes = result;\n\t});\n\n\t$scope.getAppSettings('School_Level', ['name']).then(function(result) {\n\t\t$scope.curSchoolLevels = result;\n\t});\n\n\t$scope.getAppSettings('Location_Service', ['name']).then(function(result) {\n\t\t$scope.curDistrictSchoolServices = result;\n\t});\n\n\t$scope.saveAppSettings = function() {\n\t\t$log.log(\"Settings Saved!\");\n\n\t\t$http.post('/api/save_app_settings', {\n\t\t\t\troles: JSON.stringify($scope.curRoles.field_rows),\n\t\t\t\tactivity_types: JSON.stringify($scope.curActivityTypes.field_rows),\n\t\t\t\tactivity_topics: JSON.stringify($scope.curActivityTopics.field_rows),\n\t\t\t\tactivity_scope: JSON.stringify($scope.curActivityScopes.field_rows),\n\t\t\t\tdelivery_methods: JSON.stringify($scope.curDeliveryMethods.field_rows),\n\t\t\t\tschool_designations: JSON.stringify($scope.curSchoolDesignations.field_rows),\n\t\t\t\twork_days: JSON.stringify($scope.curWorkDays.field_rows),\n\t\t\t\tschool_types: JSON.stringify($scope.curSchoolTypes.field_rows),\n\t\t\t\tschool_levels: JSON.stringify($scope.curSchoolLevels.field_rows),\n\t\t\t\tlocation_services: JSON.stringify($scope.curDistrictSchoolServices.field_rows),\n\t\t\t\tmileage_reimbursement: JSON.stringify($scope.curAppSettings.mileage_reimbursement),\n\t\t\t\tcell_reimbursement: JSON.stringify($scope.curAppSettings.cell_reimbursement),\n\t\t\t\tglobal_data_links: JSON.stringify($scope.curAppSettings.global_data_links)\n\t\t\t}).then(function(results) {\n\t\t\t\t$window.location.href = results;\n\t\t\t\t$window.location.reload();\n\t\t\t\t// $log.log(results.data);\n\t\t\t}, function(error) {\n\t\t\t\t$log.log(error);\n\t\t\t});\n\t};\n}];\n","/**\n * The confirm page controller. The controller:\n * -\n */\n'use strict';\n\nmodule.exports = ['$scope', '$routeParams', '$http', '$log', '$filter', 'helpers', '$window', 'modalService', function($scope, $routeParams, $http, $log, $filter, helpers, $window, modalService) {\n\t$scope.postType = $routeParams.post_type;\n\t$scope.postID = $routeParams.post_id;\n\t$scope.deleteRelType = $routeParams.delete_rel_type;\n\t$scope.deleteRelID = $routeParams.delete_rel_id;\n\t$scope.deleteRelMsg = $routeParams.delete_rel_msg;\n\n\tvar action_url = $routeParams.action_url;\n\tvar action_callback = $routeParams.action_callback;\n\n\t$scope.redirect = function(url) {\n\t\t$window.location.href = url;\n\t\t$window.location.reload();\n\t};\n\n\t$scope.deleteRelConfirm = function() {\n\t\tvar modalOptions = {\n\t\t\tcloseButtonText: 'No',\n\t\t\tactionButtonText: 'Yes',\n\t\t\theaderText: 'Delete Corresponding ' + $filter('underscoreless')($scope.deleteRelType) + '?',\n\t\t\tbodyText: $scope.deleteRelMsg\n\t\t};\n\n\t\tmodalService.showModal({}, modalOptions).then(function(result) {\n\t\t\t$http.post('/api/delete_post', {'post_type': $scope.deleteRelType, 'post_id': $scope.deleteRelID})\n\t\t\t\t.then(function(results) {\n\t\t\t\t\t$scope['redirect'](results.data);\n\t\t\t\t\t// $log.log(results.data);\n\t\t\t\t}, function(error) {\n\t\t\t\t\t$log.log(error);\n\t\t\t\t});\n\t\t}, function() {\n\t\t\t$scope['redirect']('/#/posts?post_type=' + $scope.postType);\n\t\t});\n\t};\n\n\t$scope.confirm = function() {\n\t\t$http.post(action_url, {'post_type': $scope.postType, 'post_id': $scope.postID})\n\t\t\t.then(function(results) {\n\t\t\t\t$scope[action_callback](results.data);\n\t\t\t\t// $log.log(results.data);\n\t\t\t}, function(error) {\n\t\t\t\t$log.log(error);\n\t\t\t});\n\t};\n\n\t$scope.cancel = function() {\n\t\twindow.history.back();\n\t};\n}];\n","/**\n * The main controller for application forms. The controller:\n * -\n */\n'use strict';\n\nmodule.exports = ['$scope', '$log', function($scope, $log) {\n\t// defaults\n\t$scope.passwordInputType = 'password';\n\n}];\n","'use strict';\n\nmodule.exports = angular.module('main-controller', [])\n\t.controller('mainCtrl', require('./mainCtrl'));\n","/**\n * The main controller for the staff tools app. The controller:\n * -\n */\n'use strict';\n\nmodule.exports = ['$scope', '$routeParams', '$http', '$log', '$rootScope', '$location', 'helpers', '$timeout', function($scope, $routeParams, $http, $log, $rootScope, $location, helpers, $timeout) {\n\t$timeout(function() {\n\t\t$('.alert').fadeOut('fast');\n\t}, 6000);\n\n\t// Get all application settings to be available throughout the application\n\thelpers.getPosts('AppSettings', '', function(results) {\n\t\t$scope.globalSettings = {};\n\t\tfor (var i=0, l=results.length; i < l; i++) {\n\t\t\tif ((typeof results[i].setting_val === 'string') && helpers.isJson(results[i].setting_val)) {\n\t\t\t\t$scope.globalSettings[results[i].setting_name] = JSON.parse(results[i].setting_val)\n\t\t\t} else {\n\t\t\t\t$scope.globalSettings[results[i].setting_name] = results[i].setting_val\n\t\t\t}\n\t\t}\n\t});\n\n\t// Get the current user to be available throughout the application\n\thelpers.getCurrentUser(function(userData) {\n\t\t$scope.curUser = userData;\n\t});\n\n}];\n","/**\n * The user registration controller. The controller:\n * -\n */\n'use strict';\n\nmodule.exports = ['$scope', '$routeParams', function($scope, $routeParams) {\n\n}];\n","/**\n * The main controller for report builder. The controller:\n * -\n */\n'use strict';\n\nmodule.exports = ['$scope', '$log', '$routeParams', 'ReportUtils', '$location', '$window', 'helpers', '$q', '$controller', '$filter', function($scope, $log, $routeParams, ReportUtils, $location, $window, helpers, $q, $controller, $filter) {\n\tangular.extend(this, $controller('mainCtrl', {$scope: $scope}));\n\n\t$scope.curDate = new Date();\n\n\t$scope.saveBtnText = \"Save Report\";\n\n\t$scope.saveReport = ReportUtils.saveReport;\n\t$scope.deleteReport = ReportUtils.deleteReport;\n\n\t$scope.filter_date_range = [0, new Date()];\n\t$scope.reportFilters = [];\n\t$scope.reportFilter = '';\n\n\t$scope.reportTypeOptions = [\n\t\t{label: 'Activity Report', value: 'activity'},\n\t\t{label: 'Expense Report', value: 'expense'},\n\t];\n\n\t$scope.activityReportPresets = [\n\t\t{label: 'KDE Activity Log Report', value: 'general'},\n\t\t{label: 'District Activity Report', value: 'district'},\n\t\t{label: 'Consultant Activity Report', value: 'user'},\n\t\t// {label: 'Custom Report', value: 'custom'},\n\t];\n\n\t$scope.expenseReportPresets = [\n\t\t{label: 'General Expense Report', value: 'general'},\n\t\t{label: 'District Expense Report', value: 'district'},\n\t\t{label: 'Consultant Expense Report', value: 'user'},\n\t];\n\n\t$scope.widgetOptions = [\n\t\t{label: 'Pie Chart', value: 'pie'},\n\t\t{label: 'Bar Graph', value: 'bar'},\n\t\t{label: 'Data Table', value: 'table'},\n\t];\n\n\t$scope.reportFilterOpts = [\n\t\t{label: 'Date Range', value: 'date_range'},\n\t\t{label: 'User', value: 'user'},\n\t\t{label: 'Activity', value: 'activity_type'},\n\t\t{label: 'District', value: 'district'},\n\t];\n\n\t// $scope.widgetFilterOpts = [\n\t// \t{label: 'Date Range', value: 'date_range'},\n\t// \t{label: 'Activity Type', value: 'activity_type'},\n\t// \t{label: 'District', value: 'district'},\n\t// ];\n\n\t$scope.widgetXMetricOpts = [\n\t\t{label: 'Users', value: 'user'},\n\t\t{label: 'Districts', value: 'districts'},\n\t\t{label: 'Schools', value: 'schools'},\n\t\t{label: 'Activity Types', value: 'activity_types'},\n\t];\n\n\t$scope.widgetYMetricOpts = {\n\t\tactivity: [\n\t\t\t{ label: 'Total Time Spent', value: 'time_spent' },\n\t\t],\n\t\texpense: [\n\t\t\t{label: 'Total Time Spent', value: 'time_spent'},\n\t\t\t{label: 'Total Expenses', value: 'total_expenses'},\n\t\t],\n\t};\n\n\tvar getNullVals = function(compareArr) {\n\t\tvar nullArr = [];\n\t\tfor (var i=0, l=compareArr.length; i<l; i++)  {\n\t\t\tnullArr.push(null);\n\t\t}\n\t\treturn nullArr;\n\t};\n\n\tvar createFilterObj = function($index) {\n\t\treturn {\n\t\t\t'id': 'filter' + $index,\n\t\t\t'filterSelect': $scope.reportFilterOpts[0],\n\t\t\t// 'reportUser': $scope.allUsers[0],\n\t\t\t// 'reportDistrict': $scope.allDistricts[0],\n\t\t\t// 'reportActivity': $scope.allActivities[0]\n\t\t};\n\t};\n\n\tvar compileDeferredData = function(results, callback) {\n\t\tif (results) {\n\t\t\tvar  postsObj, outputArr = [];\n\n\t\t\tfor (var i = 0, l = results.length; i < l; i++) {\n\t\t\t\tpostsObj = {};\n\n\t\t\t\tpostsObj.name = results[i].name;\n\t\t\t\tpostsObj.value = results[i].id;\n\n\t\t\t\toutputArr.push(postsObj);\n\t\t\t}\n\n\t\t\tcallback(outputArr);\n\t\t}\n\t};\n\n\t$scope.setupRBData = function() {\n\t\tvar promises = {\n\t\t\t// availMonths: ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'],\n\t\t\t// availYears: [2014, 2015, 2016, 2017],\n\t\t\tusers: helpers.getDeferredPosts('User', '', compileDeferredData),\n\t\t\tdistricts: helpers.getDeferredPosts('District', '', compileDeferredData),\n\t\t\tactivities: helpers.getDeferredPosts('Activity_Type', '', compileDeferredData),\n\t\t};\n\n\t\tfunction dataCallback(value) {\n\t\t\t// $scope.availReportMonths = value.availMonths;\n\t\t\t// $scope.reportMonth = $scope.curDate.getMonth();\n\n\t\t\t// $scope.availReportYears = value.availYears;\n\t\t\t// $scope.reportYear = $scope.curDate.getFullYear();\n\n\t\t\t$scope.allUsers = value.users;\n\t\t\t// $scope.reportUser = value.users[0];\n\n\t\t\t$scope.allDistricts = value.districts;\n\t\t\t// $scope.reportDistrict = value.districts[0];\n\n\t\t\t$scope.allActivities = value.activities;\n\t\t\t// $scope.reportActivity = value.activities[0];\n\n\t\t\t$scope.reportFilters.push(createFilterObj(1));\n\t\t\t// $scope.reportFilters[0].filterDetails = value.users[0];\n\n\t\t}\n\n\t\t$q.all(promises).then(dataCallback);\n\t};\n\n\t$scope.addReportFilter = function() {\n\t\tvar newItemNo = $scope.reportFilters.length + 1;\n\t\t$scope.reportFilters.push(createFilterObj(newItemNo));\n\t};\n\n\t$scope.addNewWidget = function() {\n\t\t// $log.log($scope.newWidgetFilterSelect);\n\n\t\tif (!$scope.widgetTitle || typeof $scope.widgetTitle === 'undefined') {\n\t\t\t$scope.widgetTitle = 'untitled';\n\t\t}\n\t\tvar newItemNo = $scope.widgets.length + 1;\n\t\tvar widgetType = $scope.widgetType.value;\n\t\tvar widgetTypeLabel = $scope.widgetType.label;\n\n\t\t$scope.widgets.push({'id':'widget-'+newItemNo, 'title': $scope.widgetTitle, 'type':widgetType, 'typeLabel':widgetTypeLabel, 'filter' : $scope.newWidgetFilterSelect, 'metrics': {x: $scope.newWidgetXMetricSelect, y: $scope.newWidgetYMetricSelect}});\n\n\t\tReportUtils.buildReportURL($scope.reportType, $scope.reportPreset, $scope.reportTitle, $scope.reportFilter, $scope.widgets);\n\n\t\t// reset stuff\n\t\t$scope.widgetTitle = '';\n\t\t// $scope.newWidgetFilterSelect = {};\n\t\t$scope.newWidgetFilterSelect = {\n\t\t\tfilterSelect: {},\n\t\t\tfilterDetail: {}\n\t\t};\n\t\t$scope.newWidgetXMetricSelect = '';\n\t\t$scope.newWidgetYMetricSelect = '';\n\t\t// $scope.newWidgetMetricSelect = getNullVals($scope.widgetMetricOpts);\n\t};\n\n\t$scope.destroyWidget = function(widget_id) {\n\t\tif (confirm(\"Are you sure you want to delete this report widget?\")) {\n\t\t\tfor(var i = 0; i < $scope.widgets.length; i++) {\n\t\t\t\tvar obj = $scope.widgets[i];\n\n\t\t\t\tif(obj.id === widget_id) {\n\t\t\t\t\t$scope.widgets.splice(i, 1);\n\t\t\t\t}\n\t\t\t}\n\t\t\tReportUtils.buildReportURL($scope.reportType, $scope.reportPreset, $scope.reportTitle, $scope.reportFilter, $scope.widgets);\n\t\t}\n\t};\n\n\t$scope.sortBy = function(propertyName) {\n\t\t$scope.reverse = ($scope.propertyName === propertyName) ? !$scope.reverse : false;\n\t\t$scope.propertyName = propertyName;\n\t};\n\n\t$scope.buildReport = function(reportData) {\n\t\tif (reportData) {\n\t\t\t$scope.reportType = reportData.reportType;\n\t\t\t$scope.reportPreset = reportData.reportPreset;\n\t\t\t$scope.reportTitle = reportData.reportTitle;\n\t\t\t$scope.reportFilter = reportData.reportFilters;\n\t\t\t$scope.widgets = reportData.reportWidgets;\n\t\t}\n\n\t\tswitch ($scope.reportType) {\n\t\t\tcase 'expense':\n\t\t\t\t$scope.reportPostType = 'Expense_Sheet';\n\t\t\t\tdateStartKey = 'expense_sheet_start';\n\t\t\t\tdateEndKey = 'expense_sheet_end';\n\t\t\t\tbreak;\n\t\t\tcase 'activity':\n\t\t\tdefault:\n\t\t\t\t$scope.reportPostType = 'Activity_Log';\n\t\t\t\tdateStartKey = 'activity_date_start';\n\t\t\t\tdateEndKey = 'activity_date_end';\n\t\t\t\tbreak;\n\t\t}\n\n\t\tif (!reportData) {\n\t\t\tvar userReportTitle = '';\n\t\t\tvar dateStartKey, dateEndKey;\n\n\t\t\tif (typeof $scope.reportTitle !== 'undefined') {\n\t\t\t\tuserReportTitle = ' - ' + $scope.reportTitle;\n\t\t\t}\n\n\t\t\tif ($scope.reportPreset.value === 'custom') {\n\t\t\t\tvar customerFilterType;\n\t\t\t\t$scope.reportTitle = 'Custom Report' + userReportTitle;\n\n\t\t\t\t$scope.reportFilter = '[';\n\n\t\t\t\tfor (var i=0, l=$scope.reportFilters.length; i<l; i++) {\n\t\t\t\t\tcustomerFilterType = $scope.reportFilters[i].filterSelect.value;\n\n\t\t\t\t\tif (customerFilterType == 'date_range') {\n\t\t\t\t\t\t$scope.filter_date_range[0] = new Date($scope.reportFilters[i].reportStartDate);\n\t\t\t\t\t\t$scope.filter_date_range[1] = new Date($scope.reportFilters[i].reportEndDate);\n\n\t\t\t\t\t\t$scope.reportFilter += $scope.reportPostType + \".\" + dateStartKey + \" >= '\" + helpers.dateToPDateTime($scope.filter_date_range[0]) + \"', \";\n\t\t\t\t\t\t$scope.reportFilter += $scope.reportPostType + \".\" + dateEndKey + \" <= '\" + helpers.dateToPDateTime($scope.filter_date_range[1]) + \"'\";\n\t\t\t\t\t}\n\n\t\t\t\t\tif (customerFilterType == 'user') {\n\t\t\t\t\t\t$scope.reportFilter += $scope.reportPostType + \".user.has(id=\" + $scope.reportFilters[i].reportUser.value + \")\";\n\t\t\t\t\t}\n\n\t\t\t\t\tif (customerFilterType == 'district') {\n\t\t\t\t\t\t$scope.reportFilter += $scope.reportPostType + \".districts.any(id=\" + $scope.reportFilters[i].reportDistrict.value + \")\";\n\t\t\t\t\t}\n\n\t\t\t\t\tif (customerFilterType == 'activity_type') {\n\t\t\t\t\t\t$scope.reportFilter += $scope.reportPostType + \".activity_types.any(id=\" + $scope.reportFilters[i].reportActivity.value + \")\";\n\t\t\t\t\t}\n\n\t\t\t\t\tif (i < (l - 1)) {\n\t\t\t\t\t\t$scope.reportFilter += ', ';\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t$scope.reportFilter += ']';\n\t\t\t} else {\n\t\t\t\t$scope.reportTitle = $scope.reportPreset.label + userReportTitle;\n\n\t\t\t\t$scope.filter_date_range[0] = new Date($scope.reportStartDate);\n\t\t\t\t$scope.filter_date_range[1] = new Date($scope.reportEndDate);\n\n\t\t\t\tif ($scope.reportPreset.value === 'general') {\n\t\t\t\t\t$scope.reportTitle = 'KDE ' + $filter('titleCase')($scope.reportType) + ' Report For ' + $filter('date')($scope.filter_date_range[0], 'mediumDate') + ' to ' + $filter('date')($scope.filter_date_range[1], 'mediumDate') + userReportTitle;\n\t\t\t\t\t$scope.reportFilter = \"[\" + $scope.reportPostType + \".\" + dateStartKey + \" >= '\" + helpers.dateToPDateTime($scope.filter_date_range[0]) + \"', \" + $scope.reportPostType + \".\" + dateEndKey + \" <= '\" + helpers.dateToPDateTime($scope.filter_date_range[1]) + \"']\";\n\t\t\t\t}\n\t\t\t\tif ($scope.reportPreset.value === 'district') {\n\t\t\t\t\t$scope.reportTitle = 'District ' + $filter('titleCase')($scope.reportType) + ' Report For: ' + $scope.reportDistrict.name + userReportTitle;\n\t\t\t\t\t$scope.reportFilter = \"[\" + $scope.reportPostType + \".districts.any(id=\" + $scope.reportDistrict.value + \"), \" + $scope.reportPostType + \".\" + dateStartKey + \" >= '\" + helpers.dateToPDateTime($scope.filter_date_range[0]) + \"', \" + $scope.reportPostType + \".\" + dateEndKey + \" <= '\" + helpers.dateToPDateTime($scope.filter_date_range[1]) + \"']\";\n\t\t\t\t}\n\t\t\t\tif ($scope.reportPreset.value === 'user') {\n\t\t\t\t\thelpers.getPostData('User', $scope.reportUser.value, function(result) {\n\t\t\t\t\t\t$scope.reportTitle = 'Consultant ' + $filter('titleCase')($scope.reportType) + ' Report For: ' + result.first_name + ' ' + result.last_name + userReportTitle;\n\t\t\t\t\t});\n\n\t\t\t\t\t$scope.reportFilter = \"[\" + $scope.reportPostType + \".districts.any(id=\" + $scope.reportUser.value + \"), \" + $scope.reportPostType + \".\" + dateStartKey + \" >= '\" + helpers.dateToPDateTime($scope.filter_date_range[0]) + \"', \" + $scope.reportPostType + \".\" + dateEndKey + \" <= '\" + helpers.dateToPDateTime($scope.filter_date_range[1]) + \"']\";\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\thelpers.getPosts($scope.reportPostType, $scope.reportFilter, function(results) {\n\t\t\tif (results) {\n\t\t\t\t$scope.logs_data = results;\n\n\t\t\t\tif ($scope.reportPostType === 'Expense_Sheet') {\n\t\t\t\t\tfor (var li = 0, ll = $scope.logs_data.length; li<ll; li++) {\n\t\t\t\t\t\t$scope.logs_data[li].expense_total = helpers.getTotalExpenses($scope.logs_data[li], $scope.globalSettings);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\t$scope.reportBuilt = true;\n\t\tReportUtils.buildReportURL($scope.reportType, $scope.reportPreset, $scope.reportTitle, $scope.reportFilter, $scope.widgets);\n\n\t\t$window.onbeforeunload = function() {\n\t\t\treturn true;\n\t\t};\n\t};\n\n\t$scope.tableSortInit = function(reportType) {\n\t\t$scope.reverse = false;\n\t\t$scope.propertyName = 'name';\n\n\t\tif (reportType === 'activity') {\n\t\t\t$scope.propertyName = 'activity_date_start';\n\t\t}\n\t\tif (reportType === 'expense') {\n\t\t\t$scope.propertyName = 'expense_sheet_start';\n\t\t}\n\n\t};\n\n\t$scope.$watch('reportType', function(value) {\n\t\tif ($scope.reportBuilt === false) {\n\t\t\tif (value === 'activity') {\n\t\t\t\t$scope.curPresetOptions = $scope.activityReportPresets;\n\t\t\t}\n\t\t\tif (value === 'expense') {\n\t\t\t\t$scope.curPresetOptions = $scope.expenseReportPresets;\n\t\t\t}\n\t\t\t$scope.reportPreset = $scope.curPresetOptions[0];\n\t\t}\n\t});\n\n\t$scope.reportBuilderInit = function() {\n\t\t$scope.reportType = $scope.reportTypeOptions[0].value;\n\t\t$scope.curPresetOptions = $scope.activityReportPresets;\n\n\t\t$scope.reportPreset = $scope.curPresetOptions[0];\n\n\t\t$scope.editingReport = helpers.getURLParameter('edit');\n\t\t$scope.reportBuilt = false;\n\t\tif ($scope.editingReport) {\n\t\t\t$scope.reportBuilt = true;\n\t\t}\n\n\t\t$scope.chartControlsOpen = false;\n\t\t$scope.newWidgetFilterSelect = {};\n\t\t$scope.newWidgetXMetricSelect = '';\n\t\t$scope.newWidgetYMetricSelect = '';\n\n\t\t$scope.widgetType = $scope.widgetOptions[0];\n\t\t$scope.widgets = [];\n\n\t\tif ($scope.editingReport) {\n\t\t\t$scope.saveBtnText = \"Update Report\";\n\t\t}\n\n\t\t$scope.setupRBData ();\n\n\t\tReportUtils.buildReportFromURL($scope.reportFilter, $scope.widgets, function(reportData) {\n\t\t\t$scope.buildReport(reportData);\n\t\t});\n\n\t};\n\n}];\n","/**\n * The user account management controller. The controller:\n * -\n */\n'use strict';\n\nmodule.exports = ['$scope', '$routeParams', '$http', '$log', '$filter', 'helpers', function($scope, $routeParams, $http, $log, $filter, helpers) {\n\t$scope.userData = {};\n\n\thelpers.getPostData('User', $routeParams.id, function(results) {\n\t\t$scope.userData = results;\n\t\t// $log.log(results);\n\t});\n\n}];\n","'use strict';\n\nmodule.exports = angular.module('app-filters', [])\n\t.filter('keylength', function(){\n\t\treturn function(input){\n\t\t\tif(!angular.isObject(input)){\n\t\t\t\tthrow Error(\"Usage of non-objects with keylength filter!!\");\n\t\t\t}\n\t\t\treturn Object.keys(input).length;\n\t\t};\n\t})\n\t.filter('underscoreHyphen', function() {\n\t\treturn function(input) {\n\t\t\tif (input) {\n\t\t\t\treturn input.replace('-', '_');\n\t\t\t}\n\t\t};\n\t})\n\t.filter('underscoreless', function () {\n\t\treturn function (input) {\n\t\t\treturn input.replace(/_/g, ' ');\n\t\t};\n\t})\n\t.filter('num', function() {\n\t\treturn function(input) {\n\t\t\treturn parseInt(input, 10);\n\t\t};\n\t})\n\t.filter('parsejson', function() {\n\t\treturn function(input) {\n\t\t\tvar obj = JSON.parse(input);\n\t\t\treturn obj;\n\t\t};\n\t})\n\t.filter('cellreimformat', ['$filter', '$http', '$log', function($filter, $http, $log) {\n\t\tvar cached = {};\n\t\tvar apiUrl = '/api/get_posts';\n\t\tfunction cellreimformatFilter(input) {\n\t\t\tif (input  || input === 0) {\n\t\t\t\tif (input in cached) {\n\t\t\t\t\t// avoid returning a promise!\n\t\t\t\t\treturn typeof cached[input].then !== 'function' ? cached[input] : undefined;\n\t\t\t\t} else {\n\t\t\t\t\tcached[input] = $http.post(apiUrl, {\"post_type\": 'AppSettings', \"post_filter\": ''})\n\t\t\t\t\t\t.then(function(results) {\n\t\t\t\t\t\t\tvar appSettings = results.data.posts;\n\n\t\t\t\t\t\t\tfor (var i=0, l=appSettings.length; i < l; i++) {\n\t\t\t\t\t\t\t\tif (appSettings[i].setting_name === 'cell_reimbursement') {\n\t\t\t\t\t\t\t\t\tvar globalcellreimrate = appSettings[i].setting_val * 100;\n\n\t\t\t\t\t\t\t\t\tif (input == globalcellreimrate) {\n\t\t\t\t\t\t\t\t\t\tcached[input] = \"Full (\" + $filter('currency')(globalcellreimrate / 100) + \"/mo)\";\n\t\t\t\t\t\t\t\t\t} else if (input == (globalcellreimrate * 0.5)) {\n\t\t\t\t\t\t\t\t\t\tcached[input] = \"Half (\" + $filter('currency')((globalcellreimrate / 100) * 0.5) + \"/mo)\";\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tcached[input] = \"No Reimbursement\";\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}, function(error) {\n\t\t\t\t\t\t\t$log.log(error);\n\t\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tcellreimformatFilter.$stateful = true;\n\t\treturn cellreimformatFilter;\n\t}])\n\t.filter('repeaterTotal', ['$filter', function($filter) {\n\t\treturn function(input, repeaterField, maxVal, totalFilter) {\n\t\t\tvar total = 0;\n\t\t\tvar rows = input.field_rows;\n\n\t\t\tfor (var i=0, rl=rows.length; i<rl; i++) {\n\t\t\t\tfor (var j=0,ol=rows[i].length; j<ol; j++) {\n\t\t\t\t\tif (rows[i][j].field_id === repeaterField) {\n\t\t\t\t\t\ttotal += rows[i][j].field_val;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (typeof maxVal !== 'undefined' && total >= maxVal) {\n\t\t\t\tif (typeof totalFilter !== 'undefined') {\n\t\t\t\t\treturn $filter(totalFilter)(maxVal) + ' (max)';\n\t\t\t\t} else {\n\t\t\t\t\treturn maxVal + ' (max)';\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (typeof totalFilter !== 'undefined') {\n\t\t\t\treturn $filter(totalFilter)(total);\n\t\t\t} else {\n\t\t\t\treturn total;\n\t\t\t}\n\t\t};\n\t}])\n\t.filter('titleCase', function() {\n\t\treturn function(input) {\n\t\t\tinput = input || '';\n\t\t\treturn input.replace(/\\w\\S*/g, function(txt){return txt.charAt(0).toUpperCase() + txt.substr(1).toLowerCase();});\n\t\t};\n\t})\n\t.filter('linksList', function() {\n\t\treturn function(input, titleKey, urlKey, subLevel) {\n\t\t\tvar curTitle, curUrl;\n\t\t\tvar linksList = \"<ul>\";\n\n\t\t\tfor(var i=0, l=input.length; i<l; i++) {\n\t\t\t\tcurTitle = input[i][titleKey];\n\t\t\t\tcurUrl = input[i][urlKey];\n\n\t\t\t\tif (subLevel) {\n\t\t\t\t\tcurTitle = input[i][0][titleKey];\n\t\t\t\t\tcurUrl = input[i][1][urlKey];\n\t\t\t\t}\n\n\t\t\t\tlinksList += \"<li><a href='\" + curUrl + \"' title='\" + curTitle + \"'  target='_blank'>\" + curTitle + \"</a></li>\";\n\t\t\t}\n\t\t\tlinksList += \"</ul>\";\n\n\t\t\treturn linksList;\n\t\t};\n\t})\n\t.filter('to_trusted', ['$sce', function($sce) {\n\t\treturn function(text) {\n\t\t\treturn $sce.trustAsHtml(text);\n\t\t};\n\t}])\n\t.filter('displayFilterVal', ['helpers', '$filter', function(helpers, $filter) {\n\t\treturn function(val, filterObj) {\n\t\t\tvar outputVal = val;\n\n\t\t\toutputVal = val.name;\n\n\t\t\tif (filterObj.filterSelect.value === 'date_range') {\n\t\t\t\tvar startDate = new Date(val.reportStartDate);\n\t\t\t\tvar endDate = new Date(val.reportEndDate);\n\n\t\t\t\toutputVal = $filter('date')(startDate) + ' - ' + $filter('date')(endDate);\n\t\t\t}\n\n\t\t\treturn outputVal;\n\n\t\t}\n\t}]);\n","'use strict';\n\nrequire('./filters');\n","/**\n * The service for helper functions.\n */\n'use strict';\n\nmodule.exports = angular.module('helper-services', [])\n\t.factory('helpers', ['$http', '$log', '$q', function($http, $log, $q) {\n\t\treturn {\n\t\t\tgetCurrentUser: function(callback) {\n\t\t\t\t$http.get('/api/get_cur_user')\n\t\t\t\t\t.then(function(results) {\n\t\t\t\t\t\tcallback(results.data.current_user[0]);\n\t\t\t\t\t\t// $log.log(results.data.current_user[0]);\n\t\t\t\t\t}, function(error) {\n\t\t\t\t\t\t$log.log(error);\n\t\t\t\t\t});\n\t\t\t},\n\t\t\tgetPostID: function(postType, postName, callback) {\n\t\t\t\t$http.post('/api/get_post_id', {\"post_type\": postType, 'post_name': postName})\n\t\t\t\t\t.then(function(results) {\n\t\t\t\t\t\t// $log.log(results);\n\t\t\t\t\t\tcallback(results.data.post_id);\n\t\t\t\t\t}, function(error) {\n\t\t\t\t\t\t$log.log(error);\n\t\t\t\t\t});\n\t\t\t},\n\t\t\tgetPostData: function(postType, postID, callback) {\n\t\t\t\t$http.post('/api/get_post', {\"post_type\": postType, \"id\": postID})\n\t\t\t\t\t.then(function(results) {\n\t\t\t\t\t\t// $log.log(results.data);\n\t\t\t\t\t\tcallback(results.data.post);\n\t\t\t\t\t}, function(error) {\n\t\t\t\t\t\t$log.log(error);\n\t\t\t\t\t});\n\n\t\t\t},\n\t\t\tgetPosts: function(post_type, filter, callback) {\n\t\t\t\tfilter = typeof filter !== 'undefined' ? filter : '';\n\t\t\t\t$http.post('/api/get_posts', {\"post_type\": post_type, \"post_filter\": filter})\n\t\t\t\t\t.then(function(results) {\n\t\t\t\t\t\t// $log.log(results);\n\t\t\t\t\t\tcallback(results.data.posts);\n\t\t\t\t\t}, function(error) {\n\t\t\t\t\t\t$log.log(error);\n\t\t\t\t\t});\n\t\t\t},\n\t\t\tgetDeferredPosts: function(post_type, filter, callback) {\n\t\t\t\tvar deferred = $q.defer();\n\t\t\t\t$http.post('/api/get_posts', {\"post_type\": post_type, \"post_filter\": filter})\n\t\t\t\t\t.then(function(results) {\n\t\t\t\t\t\t// $log.log(results);\n\t\t\t\t\t\tcallback(results.data.posts, function(returnData) {\n\t\t\t\t\t\t\tdeferred.resolve(returnData);\n\t\t\t\t\t\t});\n\t\t\t\t\t}, function(error) {\n\t\t\t\t\t\t$log.log(error);\n\t\t\t\t\t});\n\n\t\t\t\treturn deferred.promise;\n\t\t\t},\n\t\t\tisJson: function(str) {\n\t\t\t\ttry {\n\t\t\t\t\tJSON.parse(str);\n\t\t\t\t} catch (e) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\treturn true;\n\t\t\t},\n\t\t\tdateToPDateTime: function(date) {\n\t\t\t\tNumber.prototype.padLeft = function(base,chr){\n\t\t\t\t\tvar  len = (String(base || 10).length - String(this).length)+1;\n\t\t\t\t\treturn len > 0? new Array(len).join(chr || '0')+this : this;\n\t\t\t\t}\n\t\t\t\tvar datetime = [date.getFullYear(),\n\t\t\t\t\t\t(date.getMonth()+1).padLeft(),\n\t\t\t\t\t\tdate.getDate().padLeft()].join('-')+' '+\n\t\t\t\t\t\t[date.getHours().padLeft(),\n\t\t\t\t\t\tdate.getMinutes().padLeft(),\n\t\t\t\t\t\tdate.getSeconds().padLeft()].join(':');\n               \t\t\treturn datetime;\n\t\t\t},\n\t\t\tgetObjByValue: function(arr, value) {\n\t\t\t\tvar o;\n\t\t\t\tfor (var i=0, l=arr.length; i<l; i++) {\n\t\t\t\t\to = arr[i];\n\n\t\t\t\t\tfor (var p in o) {\n\t\t\t\t\t\tif (o.hasOwnProperty(p) && o[p] === value) {\n\t\t\t\t\t\t\treturn o;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\tclone: function(obj) {\n\t\t\t\tif (null === obj || \"object\" != typeof obj) return obj;\n\t\t\t\tvar copy = obj.constructor();\n\t\t\t\tfor (var attr in obj) {\n\t\t\t\t\tif (obj.hasOwnProperty(attr)) copy[attr] = obj[attr];\n\t\t\t\t}\n\t\t\t\treturn copy;\n\t\t\t},\n\t\t\tarrayClean: function(arr, deleteValue) {\n\t\t\t\tfor (var i = 0; i < arr.length; i++) {\n\t\t\t\t\tif (arr[i] === deleteValue) {\n\t\t\t\t\t\tarr.splice(i, 1);\n\t\t\t\t\t\ti--;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn arr;\n\t\t\t},\n\t\t\tgetURLParameter: function(name) {\n\t\t\t\treturn decodeURIComponent((new RegExp('[?|&]' + name + '=' + '([^&;]+?)(&|#|;|$)').exec(window.location.href) || [null, ''])[1].replace(/\\+/g, '%20')) || null;\n\t\t\t},\n\t\t\tremoveURLParameter: function(url, parameter) {\n\t\t\t\t//prefer to use l.search if you have a location/link object\n\t\t\t\tvar urlparts= url.split('?');\n\t\t\t\tif (urlparts.length>=2) {\n\n\t\t\t\t\tvar prefix= encodeURIComponent(parameter)+'=';\n\t\t\t\t\tvar pars= urlparts[1].split(/[&;]/g);\n\n\t\t\t\t\t//reverse iteration as may be destructive\n\t\t\t\t\tfor (var i= pars.length; i-- > 0;) {\n\t\t\t\t\t\t//idiom for string.startsWith\n\t\t\t\t\t\tif (pars[i].lastIndexOf(prefix, 0) !== -1) {\n\t\t\t\t\t\t\tpars.splice(i, 1);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\turl= urlparts[0] + (pars.length > 0 ? '?' + pars.join('&') : \"\");\n\t\t\t\t\treturn url;\n\t\t\t\t} else {\n\t\t\t\t\treturn url;\n\t\t\t\t}\n\t\t\t},\n\t\t\tgetTotalExpenses: function(postData, globalSettings) {\n\t\t\t\tvar expense_total = 0;\n\t\t\t\texpense_total += (postData.total_mileage * (globalSettings.mileage_reimbursement * 0.01));\n\t\t\t\t/// HOW DOES CELL REIMBURSEMENT FIT IN??\n\t\t\t\tvar expense_repeaters = [];\n\n\t\t\t\texpense_repeaters.push(typeof postData.itemized_meals === \"string\" ? JSON.parse(postData.itemized_meals) : postData.itemized_meals);\n\t\t\t\texpense_repeaters.push(typeof postData.hotel_reimbursement === \"string\" ? JSON.parse(postData.hotel_reimbursement) : postData.hotel_reimbursement);\n\t\t\t\texpense_repeaters.push(typeof postData.other_reimbursement === \"string\" ? JSON.parse(postData.other_reimbursement) : postData.other_reimbursement);\n\n\t\t\t\tfor (var i=0, l=expense_repeaters.length; i<l; i++) {\n\t\t\t\t\tfor(var r=0, rl=expense_repeaters[i].field_rows.length; r<rl; r++) {\n\t\t\t\t\t\tfor (var f=0, fl=expense_repeaters[i].field_rows[r].length; f<fl; f++) {\n\t\t\t\t\t\t\tif ((expense_repeaters[i].field_rows[r][f].field_id === 'cost') || (expense_repeaters[i].field_rows[r][f].field_id === 'item_cost')) {\n\t\t\t\t\t\t\t\texpense_total += expense_repeaters[i].field_rows[r][f].field_val;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn expense_total;\n\t\t\t},\n\t\t};\n\t}]);\n","'use strict';\n\nrequire('./helpers');\nrequire('./utilities');\nrequire('./reports');\n","/**\n * The service for reports functions.\n */\n'use strict';\n\nmodule.exports = angular.module('reports-services', [])\n\t.factory('ReportUtils', require('./reports/reportUtilities'))\n\t.service('ColorRange', require('./reports/colorrange'))\n\t.service('WidgetTable', require('./reports/tables'))\n\t.service('WidgetChart', require('./reports/charts'));\n","/**\n * The service for utility functions.\n */\n'use strict';\n\nmodule.exports = angular.module('utility-services', [])\n\t.service('modalService', ['$uibModal', function($uibModal) {\n\n\t\tvar modalDefaults = {\n\t\t\tbackdrop: true,\n\t\t\tkeyboard: true,\n\t\t\tmodalFade: true,\n\t\t\ttemplateUrl: '../templates/partials/util/modal.html'\n\t\t};\n\n\t\tvar modalOptions = {\n\t\t\tcloseButtonText: 'Close',\n\t\t\tactionButtonText: 'OK',\n\t\t\theaderText: 'Proceed?',\n\t\t\tbodyText: 'Perform this action?'\n\t\t};\n\n\t\tthis.showModal = function(customModalDefaults, customModalOptions) {\n\t\t\tif (!customModalDefaults) customModalDefaults = {};\n\t\t\tcustomModalDefaults.backdrop = 'static';\n\t\t\treturn this.show(customModalDefaults, customModalOptions);\n\t\t};\n\n\t\tthis.show = function(customModalDefaults, customModalOptions) {\n\t\t\t//Create temp object to work with since we're in a singleton service\n\t\t\tvar tempModalDefaults = {};\n\t\t\tvar tempModalOptions = {};\n\n\t\t\t//Map angular-ui modal custom defaults to modal defaults defined in service\n\t\t\tangular.extend(tempModalDefaults, modalDefaults, customModalDefaults);\n\n\t\t\t//Map modal.html $scope custom properties to defaults defined in service\n\t\t\tangular.extend(tempModalOptions, modalOptions, customModalOptions);\n\n\t\t\tif (!tempModalDefaults.controller) {\n\t\t\t\ttempModalDefaults.controller = function($scope, $uibModalInstance) {\n\t\t\t\t\t$scope.modalOptions = tempModalOptions;\n\t\t\t\t\t$scope.modalOptions.ok = function(result) {\n\t\t\t\t\t\t$uibModalInstance.close(result);\n\t\t\t\t\t};\n\t\t\t\t\t$scope.modalOptions.close = function(result) {\n\t\t\t\t\t\t$uibModalInstance.dismiss('cancel');\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn $uibModal.open(tempModalDefaults).result;\n\t\t};\n\t}]);\n","/**\n * The activity log controller. The controller:\n * -\n */\n'use strict';\n\nmodule.exports = ['$scope', '$routeParams', '$http', '$log', '$window', function($scope, $routeParams, $http, $log, $window) {\n\t// $scope.createActivityLog = function(al_form_data, es_form_data) {\n\t// \t$log.log(al_form_data);\n\t// \t// $scope.saveActivityLog(function() {\n\t// \t// \t$scope.saveExpenseSheet(function() {\n\t// \t// \t\t// $window.location.href = '/#/posts?post_type=Activity_Log';\n\t// \t// \t});\n\t// \t// })\n\t// };\n\n\t$scope.saveActivityLog = function(callback) {\n\t\t$http.post('/api/save_activity_log', {})\n\t\t\t.then(function(results) {\n\t\t\t\tcallback();\n\t\t\t\t$log.log(results.data);\n\t\t\t}, function(error) {\n\t\t\t\t$log.log(error.data);\n\t\t\t});\n\t};\n\n\t$scope.saveExpenseSheet = function(callback) {\n\t\t$http.post('/api/save_expense_sheet', {})\n\t\t\t.then(function(results) {\n\t\t\t\tcallback();\n\t\t\t\t$log.log(results.data);\n\t\t\t}, function(error) {\n\t\t\t\t$log.log(error.data);\n\t\t\t});\n\t};\n}];\n","/**\n * The single post view controller. The controller:\n * -\n */\n'use strict';\n\nmodule.exports = ['$scope', '$routeParams', '$http', '$log', '$filter', 'helpers', '$sce', '$location', function($scope, $routeParams, $http, $log, $filter, helpers, $sce, $location) {\n\t$scope.postType = $routeParams.post_type;\n\t$scope.postData = {};\n\n\t$scope.singleTemplate = '../templates/partials/single/single-' + $filter('dasherize')($filter('lowercase')($scope.postType)) + '.html'\n\n\thelpers.getPostData($scope.postType, $routeParams.id, function(results) {\n\t\t$scope.postData = results;\n\t\tfor (var key in $scope.postData) {\n\t\t\tif ($scope.postData.hasOwnProperty(key)) {\n\t\t\t\tif ((typeof $scope.postData[key] === 'string') && helpers.isJson($scope.postData[key])) {\n\t\t\t\t\t$scope.postData[key] = JSON.parse($scope.postData[key]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// Reimbursement Totals for Expense Sheets\n\t\tif ($scope.postType === 'Expense_Sheet') {\n\t\t\t$scope.getTotalExpenses = helpers.getTotalExpenses;\n\t\t\t// $scope.postData.expense_total = helpers.getTotalExpenses($scope.postData, $scope.globalSettings);\n\t\t}\n\t});\n\n\n\t$scope.editAccess = function(post_id, post_type, admin_only) {\n\t\tvar admin_only = typeof admin_only !== 'undefined' ? admin_only : false;\n\t\tif ($scope.curUser['urole'] === 'Administrator') {\n\t\t\treturn true;\n\t\t}\n\n\t\tif (!admin_only) {\n\t\t\tif (post_type === \"User\") {\n\t\t\t\tif (post_id === $scope.curUser['id']) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t};\n\n\t$scope.deletePost = function(post_id, post_type) {\n\t\tvar actionCallback, deleteRelMsg = '', deleteRelType = null, deleteRelID = null;\n\t\tif ($scope.postData.expense_sheet) {\n\t\t\tif (post_type === 'Activity_Log') {\n\t\t\t\tdeleteRelMsg = 'Delete Related Expense Sheet as Well?';\n\t\t\t\tdeleteRelID = $scope.postData.expense_sheet;\n\t\t\t\tdeleteRelType = 'Expense_Sheet';\n\t\t\t}\n\t\t}\n\t\tif ($scope.postData.activity_log) {\n\t\t\tif (post_type === 'Expense_Sheet') {\n\t\t\t\tdeleteRelMsg = 'Delete Related Activity Log as Well?';\n\t\t\t\tdeleteRelID = $scope.postData.activity_log.id;\n\t\t\t\tdeleteRelType = 'Activity_Log';\n\t\t\t}\n\t\t}\n\n\t\tif (deleteRelID) {\n\t\t\tactionCallback = 'deleteRelConfirm';\n\t\t} else {\n\t\t\tactionCallback = 'redirect';\n\t\t}\n\t\t$location.path('/confirm').search({post_id: post_id, post_type: post_type, action_url: '/api/delete_post', action_callback: actionCallback, delete_rel_type: deleteRelType, delete_rel_id: deleteRelID, delete_rel_msg: deleteRelMsg});\n\t};\n\n}];\n","/**\n * The main controller for the staff tools app. The controller:\n * -\n */\n'use strict';\n\nmodule.exports = ['$scope', '$routeParams', '$http', '$log', '$filter', '$templateCache', function($scope, $routeParams, $http, $log, $filter, $templateCache) {\n\t$scope.postType = $routeParams.post_type;\n\t$scope.postFilter = typeof $routeParams.post_filter !== 'undefined' ? $routeParams.post_filter : '';\n\t$scope.postFilterKey = typeof $routeParams.post_filter_key !== 'undefined' ? $routeParams.post_filter_key : '';\n\t$scope.postFilterVal = typeof $routeParams.post_filter_val !== 'undefined' ? $routeParams.post_filter_val : '';\n\n\t$scope.createPostURL = '/admin/create-' + $filter('dasherize')($filter('lowercase')($scope.postType));\n\tif ($scope.postType === 'Report_URL') {\n\t\t$scope.createPostURL = '/admin/report-builder';\n\t}\n\n\t// fire the API request\n\t$http.post('/api/get_posts', {\"post_type\": $scope.postType, \"post_filter\": $scope.postFilter})\n\t\t.then(function(results) {\n\t\t\t$scope.postList = results.data;\n\n\t\t\t$scope.getListTemplate = function() {\n\t\t\t\tif ($scope.postList.posts.length) {\n\t\t\t\t\treturn '../templates/partials/archive/posts-' + $filter('dasherize')($filter('lowercase')($scope.postType)) + '.html';\n\t\t\t\t}\n\t\t\t\treturn '../templates/partials/archive/empty-results.html';\n\t\t\t};\n\t\t}, function(error) {\n\t\t\t$log.log(error);\n\t\t});\n}];\n","/**\n * The controller for the staff tools app footer. The controller:\n * -\n */\n'use strict';\n\nmodule.exports = ['$scope', '$filter', 'UserAuth', function($scope, $filter, UserAuth) {\n\t$scope.loggedIn = UserAuth.loggedIn;\n}];\n","/**\n * The controller for the staff tools app header. The controller:\n * -\n */\n'use strict';\n\nmodule.exports = ['$scope', '$filter', 'UserAuth', function($scope, $filter, UserAuth) {\n\t$scope.loggedIn = UserAuth.loggedIn;\n}];\n","/**\n * The controller for the staff tools app sidebar. The controller:\n * -\n */\n'use strict';\n\nmodule.exports = ['$scope', '$filter', '$location', '$log', function($scope, $filter, $location, $log) {\n\t$scope.initSettingsPanel = function() {\n\t\tif ($location.url() === '' || $location.url() === '/') {\n\t\t\t$scope.$parent.changeSettingPanel('access-roles');\n\t\t} else {\n\t\t\t$scope.$parent.changeSettingPanel($location.path().replace(/^\\//, ''));\n\t\t}\n\t};\n\n\t// console.log($location.url());\n\t$scope.isActive = function (viewLocation) {\n\t\tvar active = (viewLocation === $location.url());\n\t\treturn active;\n\t};\n}];\n","/**\n * The directive for the hide/show password checkbox feature.\n */\n'use strict';\n\nmodule.exports = ['$timeout', '$parse', function($timeout, $parse) {\n\treturn {\n\t\tlink: function(scope, elem, attrs) {\n\t\t\telem.bind('blur', function(e) {\n\t\t\t\tscope.$apply(attrs.blurMe);\n\t\t\t});\n\t\t}\n\t};\n}];\n","/**\n * The directive for more complex repeater fields.\n */\n'use strict';\n\nmodule.exports = ['$http', '$log', '$timeout', '$filter', 'config', function($http, $log, $timeout, $filter, config) {\n\tvar tpl = \"<div><label ng-if='label' for='{[ fieldName ]}'>{[ label ]}</label> \\\n\t\t<input id='{[ fieldName ]}' name='{[ fieldName ]}' type='text' ng-hide='true' ng-model='serializedFieldVal'> \\\n\t\t<table class='ui table'><thead><tr><th ng-repeat='f in fields track by $index'><strong>{[ f.field_label ]}</strong></th><th><button type='button' class='repeater-add btn btn-default' ng-click='addItem(\\\"{[ fieldName ]}\\\")' aria-label='Add Item' title='Add Item'><span class='glyphicon glyphicon-plus' aria-hidden='true'></span></button></th></tr></thead> \\\n\t\t<tr data-toggle='fieldset-entry' ng-repeat='i in getNumber(rows) track by $index'> \\\n\t\t<td ng-repeat='f in fields track by $index'> \\\n\t\t<form-field model='fieldModels[\\\"field_rows\\\"][$parent.$index][$index][\\\"field_val\\\"]' name='{[ fieldName ]}-{[ $parent.$index ]}-{[ f.field_id ]}' placeholder='{[ f.field_label ]}' type='{[ f.field_type ]}'></form-field> \\\n\t\t</td> \\\n\t\t<td><button ng-if='rows > 1' type='button' class='repeater-remove btn btn-default' ng-click='removeItem($parent.$index)' aria-label='Remove Item' title='Remove Item'><span class='glyphicon glyphicon-minus' aria-hidden='true'></span></button></td> \\\n\t\t</tr></table></div>\";\n\n\n\treturn {\n\t\trestrict: 'E',\n\t\treplace: true,\n\t\tscope: {\n\t\t\tfieldName: '@',\n\t\t\tlabel: '@',\n\t\t\tfields: '=',\n\t\t\tfieldModels: '=?model',\n\t\t},\n\t\ttemplate: tpl,\n\t\tcontroller: ['$scope', function($scope) {\n\t\t\t$scope.rows = 1;\n\t\t\t$scope.serializedFieldVal = '';\n\n\t\t\t$scope.getNumber = function(num) {\n\t\t\t\treturn new Array(num);\n\t\t\t};\n\n\t\t\t$scope.buildFieldsObj = function(filtered, curVal) {\n\t\t\t\tvar $i, $j, $c, fieldObj, fieldID, filter, fieldVal, $rowsArr;\n\t\t\t\tcurVal = typeof curVal !== 'undefined' ? curVal : {'field_rows': []};\n\t\t\t\t$rowsArr = curVal['field_rows'];\n\n\t\t\t\tfor ($i=0; $i < $scope.rows; $i++) {\n\t\t\t\t\tif (!$rowsArr[$i]) {\n\t\t\t\t\t\t$rowsArr[$i] = [];\n\t\t\t\t\t}\n\t\t\t\t\tfor ($j=0, $c=$scope.fields.length; $j < $c; $j++) {\n\t\t\t\t\t\tfieldObj = {};\n\n\t\t\t\t\t\tfieldObj['field_id'] = $scope.fields[$j]['field_id'];\n\t\t\t\t\t\tfieldObj['field_type'] = $scope.fields[$j]['field_type'];\n\t\t\t\t\t\tfieldObj['field_label'] = $scope.fields[$j]['field_label'];\n\t\t\t\t\t\tfieldObj['filter'] = $scope.fields[$j]['filter'];\n\n\t\t\t\t\t\tif (typeof $rowsArr[$i][$j] !== 'undefined') {\n\t\t\t\t\t\t\tfieldVal = $rowsArr[$i][$j]['field_val'];\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tfieldVal = '';\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tfieldObj['field_val'] = fieldVal;\n\n\t\t\t\t\t\tif (filtered) {\n\t\t\t\t\t\t\tfilter = $scope.fields[$j]['filter'];\n\t\t\t\t\t\t\tif (filter) {\n\t\t\t\t\t\t\t\tif (filter === 'date') {\n\t\t\t\t\t\t\t\t\tfieldVal = $filter(filter)(fieldVal, config.dateFormat, config.dateOffset);\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tfieldVal = $filter(filter)(fieldVal);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\t$rowsArr[$i][$j] = fieldObj;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn curVal;\n\t\t\t};\n\n\t\t\t$scope.updateModels = function() {\n\t\t\t\t$scope.fieldModels = $scope.buildFieldsObj(false, $scope.fieldModels);\n\t\t\t\t$scope.rows = $scope.fieldModels['field_rows'].length;\n\t\t\t};\n\n\t\t\tif (typeof $scope.fieldModels !== 'undefined' || typeof $scope.fields === 'undefined') {\n\t\t\t\t$timeout(function() {\n\t\t\t\t\t$scope.updateModels();\n\t\t\t\t}, 1000);\n\t\t\t} else {\n\t\t\t\t$scope.updateModels();\n\t\t\t}\n\n\t\t\t$scope.$watch('fieldModels', function(newValue) {\n\t\t\t\tif (typeof newValue !== 'undefined') {\n\t\t\t\t\tvar $newValue = (JSON.parse(JSON.stringify(newValue)));\n\t\t\t\t\tvar filteredValue = $scope.buildFieldsObj(true, $newValue);\n\n\t\t\t\t\t$scope.serializedFieldVal = JSON.stringify(filteredValue);\n\t\t\t\t}\n\t\t\t}, true);\n\n\t\t}],\n\t\tlink: function(scope, elem, attrs) {\n\n\t\t\tscope.addItem = function() {\n\t\t\t\tscope.rows++;\n\t\t\t\tscope.updateModels();\n\t\t\t};\n\t\t\tscope.removeItem = function($index) {\n\t\t\t\tscope.fieldModels['field_rows'].splice($index, 1);\n\t\t\t\tscope.rows--;\n\t\t\t\tscope.updateModels();\n\t\t\t};\n\n\t\t}\n\t};\n}];\n","/**\n * The directive for bootstrap datepicker fields.\n */\n'use strict';\n\nmodule.exports = ['$http', '$log', '$timeout', '$filter', function($http, $log, $timeout, $filter) {\n\tvar tpl = \"<div class='input-group date' data-provide='datepicker'> \\\n\t\t<input id='{[fieldName]}' name='{[fieldName]}' type='text' class='form-control' ng-click='open()' uib-datepicker-popup='{[ format ]}' ng-model='dateInput' is-open='popup.opened' datepicker-options='dateOptions' ng-required='true' close-text='Close' alt-input-formats='altInputFormats' /> \\\n\t\t<span class='input-group-btn'><button type='button' class='btn btn-default' ng-click='open()'><i class='glyphicon glyphicon-calendar'></i></button></span></div>\";\n\treturn {\n\t\trestrict: 'E',\n\t\treplace: true,\n\t\tscope: {\n\t\t\t'initDate': '=',\n\t\t\t'model': '=',\n\t\t\t'fieldName': '@',\n\t\t},\n\t\ttemplate: tpl,\n\t\tcontroller: ['$scope', function($scope) {\n\n\t\t\tif ($scope.model) {\n\t\t\t\t$scope.model = new Date($scope.model);\n\t\t\t\t$scope.dateInput = $scope.model;\n\n\t\t\t\t$scope.$watch('dateInput', function(newValue) {\n\t\t\t\t\t$scope.model = newValue;\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tif ($scope.initDate) {\n\t\t\t\t\t$scope.dateInput = new Date($scope.initDate);\n\t\t\t\t} else {\n\t\t\t\t\t$scope.dateInput = new Date();\n\t\t\t\t}\n\t\t\t\t$scope.$watch('dateInput', function(newValue) {\n\t\t\t\t\t$scope.model = $scope.dateInput;\n\t\t\t\t});\n\t\t\t}\n\n\n\t\t\t$scope.clear = function() {\n\t\t\t\t$scope.model = null;\n\t\t\t};\n\n\t\t\t$scope.inlineOptions = {\n\t\t\t\tcustomClass: getDayClass,\n\t\t\t\tminDate: new Date(),\n\t\t\t\tshowWeeks: true\n\t\t\t};\n\n\t\t\t$scope.dateOptions = {\n\t\t\t\t// dateDisabled: disabled,\n\t\t\t\tformatYear: 'yy',\n\t\t\t\tmaxDate: new Date(2020, 5, 22),\n\t\t\t\tminDate: new Date(),\n\t\t\t\tstartingDay: 1\n\t\t\t};\n\n\t\t\t// Disable weekend selection\n\t\t\tfunction disabled(data) {\n\t\t\t\tvar date = data.date,\n\t\t\t\tmode = data.mode;\n\t\t\t\treturn mode === 'day' && (date.getDay() === 0 || date.getDay() === 6);\n\t\t\t}\n\n\t\t\t$scope.toggleMin = function() {\n\t\t\t\t$scope.inlineOptions.minDate = $scope.inlineOptions.minDate ? null : new Date();\n\t\t\t\t$scope.dateOptions.minDate = $scope.inlineOptions.minDate;\n\t\t\t};\n\n\t\t\t$scope.toggleMin();\n\n\t\t\t$scope.open = function() {\n\t\t\t\t$scope.popup.opened = true;\n\t\t\t};\n\n\t\t\t$scope.formats = [\"MMM d, y\", 'dd-MMMM-yyyy', 'yyyy/MM/dd', 'dd.MM.yyyy', 'shortDate'];\n\t\t\t$scope.format = $scope.formats[0];\n\t\t\t$scope.altInputFormats = ['M!/d!/yyyy'];\n\n\t\t\t$scope.popup = {\n\t\t\t\topened: false\n\t\t\t};\n\n\t\t\tfunction getDayClass(data) {\n\t\t\t\tvar date = data.date,\n\t\t\t\tmode = data.mode;\n\t\t\t\tif (mode === 'day') {\n\t\t\t\t\tvar dayToCheck = new Date(date).setHours(0,0,0,0);\n\n\t\t\t\t\tfor (var i = 0; i < $scope.events.length; i++) {\n\t\t\t\t\t\tvar currentDay = new Date($scope.events[i].date).setHours(0,0,0,0);\n\n\t\t\t\t\t\tif (dayToCheck === currentDay) {\n\t\t\t\t\t\t\treturn $scope.events[i].status;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn '';\n\t\t\t}\n\t\t}],\n\t\tlink: function(scope, elem, attrs) {\n\t\t}\n\t};\n}];\n","/**\n * The directive for the hide/show password checkbox feature.\n */\n'use strict';\n\nmodule.exports = ['$timeout', '$parse', function($timeout, $parse) {\n\treturn {\n\t\tscope: { trigger: '@focusMe' },\n\t\tlink: function(scope, element, attrs) {\n\t\t\tscope.$watch('trigger', function(value) {\n\t\t\t\tif(value === \"true\") {\n\t\t\t\t\t$timeout(function() {\n\t\t\t\t\t\telement[0].focus();\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t};\n}];\n","/**\n * The directive for creating simple fields.\n */\n'use strict';\n\nmodule.exports = ['$http', '$log', '$templateCache', '$compile', '$templateRequest', '$timeout', function($http, $log, $templateCache, $compile, $templateRequest, $timeout) {\n\treturn {\n\t\trestrict: 'E',\n\t\treplace: true,\n\t\tscope: {\n\t\t\tfieldModel: '=?model',\n\t\t\tname: '@',\n\t\t\tplaceholder: '@',\n\t\t\ttype: '@',\n\t\t\tautoFocus: '@',\n\t\t\tselectOptions: '=?',\n\t\t\tsimpleSelect: '=?',\n\t\t\tkeyVal: '=?',\n\t\t\trows: '@',\n\t\t},\n\t\tlink: function(scope, element, attrs) {\n\t\t\tif (scope.type !== 'select' && scope.type !== 'multiselect') {\n\t\t\t\tscope.fieldModel = typeof scope.fieldModel !== 'undefined' ? scope.fieldModel : '';\n\t\t\t}\n\t\t\t// scope.$watch('fieldModel', function(newValue) {\n\t\t\t// \t$log.log(scope.fieldModel);\n\t\t\t// });\n\n\t\t\t$templateRequest('../templates/partials/forms/fields/' + scope.type + '.html').then(function(html) {\n\t\t\t\tvar template = angular.element(html);\n\t\t\t\telement.append(template);\n\t\t\t\t$compile(template)(scope);\n\t\t\t});\n\t\t}\n\t};\n}];\n","/**\n * The directive for including a dynamic form.\n */\n'use strict';\n\nmodule.exports = function() {\n\treturn {\n\t\trestrict: 'E',\n\t\tscope: '=',\n\t\ttemplate: '<ng-include src=\"template\"/>',\n\t\tlink: function(scope, element, attrs) {\n\t\t\tvar formPrefix = attrs.type;\n\t\t\tscope.template = '../templates/partials/forms/' + formPrefix + '-form.html';\n\t\t}\n\t};\n};\n","/**\n * The directive for the hide/show password checkbox feature.\n */\n'use strict';\n\nmodule.exports = function() {\n\treturn {\n\t\trestrict: 'E',\n\t\treplace: true,\n\t\tscope: '=',\n\t\ttemplateUrl: '../templates/partials/forms/hideshow-password.html',\n\t\tlink: function(scope) {\n\t\t\tscope.passwordInputType = 'password';\n\n\t\t\tscope.hideShowPassword = function() {\n\t\t\t\tif (scope.passwordInputType === 'password') {\n\t\t\t\t\tscope.passwordInputType = 'text';\n\t\t\t\t} else {\n\t\t\t\t\tscope.passwordInputType = 'password';\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t};\n};\n","/**\n * The directive for the multi select field checker.\n */\n'use strict';\n\nmodule.exports = ['$compile',  function ($compile) {\n\treturn {\n\t\trestrict: 'A',\n\t\treplace: false,\n\t\tterminal: true, //terminal means: compile this directive only\n\t\tpriority: 50000, //priority means: the higher the priority, the \"firster\" the directive will be compiled\n\t\tcompile: function compile(element, attrs) {\n\t\t\telement.removeAttr(\"multi-select-checker\"); //remove the attribute to avoid indefinite loop\n\t\t\telement.removeAttr(\"data-multi-select-checker\"); //also remove the same attribute with data- prefix in case users specify data-multi-select-checker in the html\n\n\t\t\treturn {\n\t\t\t\tpre: function preLink(scope, iElement, iAttrs, controller) {  },\n\t\t\t\tpost: function postLink(scope, iElement, iAttrs, controller) {\n\t\t\t\t\tif(scope.options.Multiple === true) {\n\t\t\t\t\t\tiElement[0].setAttribute('multiple',''); //set the multiple directive, doing it the JS way, not jqLite way.\n\t\t\t\t\t}\n\t\t\t\t\t$compile(iElement)(scope);\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t};\n}];\n","/**\n * The directive for repeater forms.\n */\n'use strict';\n\nmodule.exports = ['$http', '$log', '$templateCache', '$compile', '$templateRequest', '$timeout', 'helpers', '$filter', 'config', function($http, $log, $templateCache, $compile, $templateRequest, $timeout, helpers, $filter, config) {\n\treturn {\n\t\trestrict: 'E',\n\t\treplace: true,\n\t\tscope: {\n\t\t\tfieldName: '@',\n\t\t\tlabel: '@',\n\t\t\tfields: '=',\n\t\t\trepeaterType: '@',\n\t\t\tinData: '=?model',\n\t\t},\n\t\tlink: function(scope, element, attrs) {\n\t\t\tscope.newItem = [];\n\t\t\tscope.editorFlags = [];\n\n\t\t\t$templateRequest('../templates/partials/forms/fields/' + scope.repeaterType + 'Repeater.html').then(function(html) {\n\t\t\t\tvar template = angular.element(html);\n\t\t\t\telement.append(template);\n\t\t\t\t$compile(template)(scope);\n\t\t\t});\n\n\t\t\tvar unbind = scope.$watch('inData', function(newValue) {\n\t\t\t\tvar rowsLength;\n\n\t\t\t\tif (typeof newValue !== 'undefined') {\n\t\t\t\t\trowsLength = newValue.length;\n\n\t\t\t\t\tif (newValue.hasOwnProperty('field_rows')) {\n\t\t\t\t\t\trowsLength = newValue.field_rows.length;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (scope.repeaterType === 'simple') {\n\t\t\t\t\t\tfor(var i=0, l=rowsLength; i<l; i++) {\n\t\t\t\t\t\t\tscope.editorFlags.push({editing: false});\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tscope.updateModels(newValue, false);\n\n\t\t\t\t\tunbind();\n\t\t\t\t} else {\n\t\t\t\t\tif (scope.repeaterType === 'complex') {\n\t\t\t\t\t\tscope.updateModels({'field_rows': ['']}, false);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\n\n\t\t\tscope.buildFieldsObj = function(filtered, curVal) {\n\t\t\t\tvar $i, $l, $j, $c, rowData, fieldData, fieldVal;\n\n\t\t\t\tif (typeof curVal.field_rows !== 'undefined') {\n\t\t\t\t\t$l = curVal.field_rows.length;\n\t\t\t\t} else {\n\t\t\t\t\tif (curVal.length > 0) {\n\t\t\t\t\t\t$l = curVal.length;\n\t\t\t\t\t} else {\n\t\t\t\t\t\t$l = 1;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tvar newVal = {'field_rows': []};\n\t\t\t\tif ((typeof scope.newItem !== 'undefined') && (scope.newItem.length > 0)) {\n\t\t\t\t\tnewVal = typeof curVal.field_rows !== 'undefined' ? curVal : {'field_rows': []};\n\t\t\t\t\t$l = 1;\n\t\t\t\t}\n\n\t\t\t\tfor ($i=0; $i < $l; $i++) {\n\t\t\t\t\trowData = [];\n\n\t\t\t\t\tfor ($j=0, $c=scope.fields.length; $j < $c; $j++) {\n\t\t\t\t\t\tfieldData = {};\n\n\t\t\t\t\t\tfieldData.field_id = scope.fields[$j].field_id;\n\t\t\t\t\t\tfieldData.field_label = scope.fields[$j].field_label;\n\t\t\t\t\t\tfieldData.field_type = scope.fields[$j].field_type;\n\t\t\t\t\t\tfieldData.filter = scope.fields[$j].filter;\n\n\t\t\t\t\t\tif ((typeof scope.newItem !== 'undefined') && (scope.newItem.length > 0) && scope.newItem[$j]) {\n\t\t\t\t\t\t\tfieldVal = scope.newItem[$j];\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tif ((typeof curVal.field_rows !== 'undefined') && (typeof curVal.field_rows[$i] !== 'undefined') && (typeof curVal.field_rows[$i][$j] !== 'undefined')) {\n\t\t\t\t\t\t\t\tfieldVal = curVal.field_rows[$i][$j].field_val;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tif (typeof curVal[$i] !== 'undefined') {\n\t\t\t\t\t\t\t\t\tfieldVal = curVal[$i][scope.fields[$j].field_id];\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tfieldVal = '';\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// if (filtered) {\n\t\t\t\t\t\t// \tfilter = scope.fields[$j]['filter'];\n\t\t\t\t\t\t// \tif (filter) {\n\t\t\t\t\t\t// \t\tif (filter === 'date') {\n\t\t\t\t\t\t// \t\t\tfieldVal = $filter(filter)(fieldVal, config.dateFormat, config.dateOffset);\n\t\t\t\t\t\t// \t\t} else {\n\t\t\t\t\t\t// \t\t\tfieldVal = $filter(filter)(fieldVal);\n\t\t\t\t\t\t// \t\t}\n\t\t\t\t\t\t// \t}\n\t\t\t\t\t\t// }\n\n\t\t\t\t\t\tfieldData.field_val = fieldVal;\n\n\t\t\t\t\t\trowData.push(fieldData);\n\t\t\t\t\t}\n\n\t\t\t\t\tnewVal.field_rows.push(rowData);\n\t\t\t\t}\n\n\t\t\t\treturn newVal;\n\t\t\t};\n\n\t\t\tscope.updateModels = function(data, filter) {\n\t\t\t\tscope.inData = scope.buildFieldsObj(filter, data);\n\t\t\t};\n\n\t\t\tscope.addItem = function() {\n\t\t\t\tif (scope.repeaterType === 'complex') {\n\t\t\t\t\tscope.inData.field_rows.push({});\n\t\t\t\t}\n\n\t\t\t\tscope.updateModels(scope.inData, false);\n\n\t\t\t\tif (scope.repeaterType === 'simple') {\n\t\t\t\t\tscope.editorFlags.push({editing: false});\n\n\t\t\t\t\tfor (var i=0; i < scope.newItem.length; i++) {\n\t\t\t\t\t\tscope.newItem[i] = '';\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t};\n\n\t\t\tscope.removeItem = function(index) {\n\t\t\t\tif (scope.repeaterType === 'simple') {\n\t\t\t\t\tscope.editorFlags.splice(index, 1);\n\t\t\t\t}\n\n\t\t\t\tscope.inData.field_rows.splice(index, 1);\n\t\t\t};\n\n\t\t\tscope.editItem = function(index) {\n\t\t\t\tscope.editorFlags[index].editing = !scope.editorFlags[index].editing;\n\n\t\t\t\tfor (var i=0, l=scope.editorFlags.length; i<l; i++) {\n\t\t\t\t\tif ((i !== index) && scope.editorFlags[i].editing) {\n\t\t\t\t\t\tscope.editorFlags[i].editing = false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t};\n}];\n","/**\n * The directive for select2 fields.\n */\n'use strict';\n\nmodule.exports = ['$http', '$log', '$timeout', 'helpers', function($http, $log, $timeout, helpers) {\n\tvar tpl = \"<div class='select2container'> \\\n\t\t<input id='{[ fieldName ]}' name='{[ fieldName ]}' type='text' ng-hide='true' ng-model='outputValue'> \\\n\t\t<ui-select ng-model='$parent.selectModel' multi-select-checker style='min-width: {[ minWidth ]};'> \\\n\t\t<ui-select-match allow-clear='true' placeholder='Select {[ label ]}'> \\\n\t\t<span ng-if='!multiple'>{[$select.selected[optionKey]]}</span> \\\n\t\t<span ng-if='multiple'>{[$item[optionKey]]}</span> \\\n\t\t</ui-select-match> \\\n\t\t<ui-select-choices repeat='item in (uiSelectOptions | filter: $select.search)' value='{[$select.selected[optionVal]]}''> \\\n\t\t<span ng-bind-html='item[optionKey] | highlight: $select.search'></span> \\\n\t\t</ui-select-choices></ui-select></div>\";\n\n\treturn {\n\t\trestrict: 'E',\n\t\tscope: {\n\t\t\tselectOptions: '=',\n\t\t\tmodel: '=?',\n\t\t\tkeyVal: '=',\n\t\t\tmultiple: '=',\n\t\t\tlabel: '@',\n\t\t\tfieldName: '@',\n\t\t\tminWidth: '@',\n\t\t},\n\t\ttemplate: tpl,\n\t\tcontroller: ['$scope', function($scope) {\n\t\t\t$scope.options = {};\n\t\t\t$scope.options.Multiple = $scope.multiple;\n\n\t\t\tif ((typeof $scope.keyVal !== 'undefined') && (typeof $scope.keyVal[0] !== 'undefined')) {\n\t\t\t\t$scope.optionKey = $scope.keyVal[0];\n\t\t\t\t$scope.optionVal = $scope.keyVal[1];\n\t\t\t} else {\n\t\t\t\tif ($scope.selectOptions.only) {\n\t\t\t\t\t$scope.optionKey = $scope.selectOptions.only;\n\t\t\t\t\t$scope.optionVal = $scope.selectOptions.only;\n\t\t\t\t} else if ($scope.selectOptions.constructor.toString().indexOf(\"Array\") !== -1) {\n\t\t\t\t\t$scope.optionKey = 0;\n\t\t\t\t\t$scope.optionVal = 1;\n\t\t\t\t} else {\n\t\t\t\t\t$scope.optionKey = $scope.model;\n\t\t\t\t\t$scope.optionVal = $scope.model;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tvar buildSelectmodel = function(selectOptions) {\n\t\t\t\t$scope.uiSelectOptions = [];\n\t\t\t\t$scope.selectModel = '';\n\n\t\t\t\tif ($scope.selectOptions.allowAll) {\n\t\t\t\t\t$scope.optionsLabel = 'Options';\n\t\t\t\t\tif ($scope.label) {\n\t\t\t\t\t\t$scope.optionsLabel = $scope.label;\n\t\t\t\t\t}\n\t\t\t\t\t$scope.uiSelectOptions[0] = {};\n\t\t\t\t\t$scope.uiSelectOptions[0][$scope.optionKey] = 'All ' + $scope.optionsLabel;\n\t\t\t\t\t$scope.uiSelectOptions[0][$scope.optionVal] = 'all_options';\n\t\t\t\t}\n\t\t\t\t$scope.uiSelectOptions = $scope.uiSelectOptions.concat(selectOptions);\n\n\t\t\t\tif ($scope.selectOptions.only) {\n\t\t\t\t\tif ($scope.model) {\n\t\t\t\t\t\t$scope.selectModel = {};\n\t\t\t\t\t\t$scope.selectModel[$scope.optionKey] = $scope.model;\n\t\t\t\t\t}\n\n\t\t\t\t\t$scope.uiSelectOptions = [];\n\t\t\t\t\tfor (var i=$scope.uiSelectOptions.length; i < selectOptions.length; i++) {\n\t\t\t\t\t\t$scope.uiSelectOptions[i] = {};\n\t\t\t\t\t\t$scope.uiSelectOptions[i][$scope.optionKey] = selectOptions[i][$scope.selectOptions.only];\n\t\t\t\t\t\t$scope.uiSelectOptions[i][$scope.optionVal] = selectOptions[i][$scope.selectOptions.only];\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif ($scope.model) {\n\t\t\t\t\t\t$scope.selectModel = $scope.model;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tvar buildAllValuesArr = function(optionKey) {\n\t\t\t\tvar allValuesArr  = [];\n\n\t\t\t\tfor (var i=1; i<$scope.uiSelectOptions.length; i++) {\n\t\t\t\t\tallValuesArr.push($scope.uiSelectOptions[i]);\n\t\t\t\t\tif (optionKey) {\n\t\t\t\t\t\tallValuesArr.push($scope.uiSelectOptions[i][optionKey]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn allValuesArr;\n\t\t\t};\n\n\t\t\tvar unbindModelWatch = $scope.$watch('model', function(newValue) {\n\t\t\t\tif ($scope.selectOptions.constructor.toString().indexOf(\"Array\") != -1) {\n\t\t\t\t\tbuildSelectmodel($scope.selectOptions);\n\t\t\t\t} else {\n\t\t\t\t\tif (typeof $scope.selectOptions === 'object') {\n\t\t\t\t\t\thelpers.getPosts($scope.selectOptions.postType, $scope.selectOptions.postFilter, function(results) {\n\t\t\t\t\t\t\tbuildSelectmodel(results);\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t$scope.$watch('selectModel', function(newValue) {\n\t\t\t\t\t$scope.outputValue = '';\n\t\t\t\t\tif (typeof newValue !== 'undefined') {\n\t\t\t\t\t\tif ($scope.selectOptions.only) {\n\t\t\t\t\t\t\t$scope.model = newValue[$scope.optionKey];\n\t\t\t\t\t\t\t$scope.outputValue = newValue[$scope.optionKey];\n\t\t\t\t\t\t} else if ($scope.selectOptions.constructor.toString().indexOf(\"Array\") != -1) {\n\t\t\t\t\t\t\t$scope.model = newValue;\n\t\t\t\t\t\t\t$scope.outputValue = newValue[$scope.optionVal];\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t$scope.model = newValue;\n\t\t\t\t\t\t\t$scope.outputValue = newValue;\n\n\t\t\t\t\t\t\tif (typeof $scope.outputValue === \"object\") {\n\t\t\t\t\t\t\t\t$scope.outputValue = JSON.stringify($scope.outputValue);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (newValue.constructor === Array) {\n\t\t\t\t\t\t\tvar allOptionsFound = newValue.some(function(el) {\n\t\t\t\t\t\t\t\treturn el.id === 'all_options';\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tif (allOptionsFound) {\n\t\t\t\t\t\t\t\tif ($scope.selectOptions.only) {\n\t\t\t\t\t\t\t\t\t$scope.model = buildAllValuesArr($scope.optionKey);\n\t\t\t\t\t\t\t\t\t$scope.outputValue = buildAllValuesArr($scope.optionKey);\n\t\t\t\t\t\t\t\t} else if ($scope.selectOptions.constructor.toString().indexOf(\"Array\") != -1) {\n\t\t\t\t\t\t\t\t\t$scope.model = buildAllValuesArr();\n\t\t\t\t\t\t\t\t\t$scope.outputValue = buildAllValuesArr($scope.optionVal);\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t$scope.model = buildAllValuesArr();\n\t\t\t\t\t\t\t\t\t$scope.outputValue = buildAllValuesArr();\n\n\t\t\t\t\t\t\t\t\tif (typeof $scope.outputValue === \"object\") {\n\t\t\t\t\t\t\t\t\t\t$scope.outputValue = JSON.stringify($scope.outputValue);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\t// unbind after watching once\n\t\t\t\tunbindModelWatch();\n\t\t\t});\n\n\t\t}],\n\t\tlink: function(scope, elem, attrs) {\n\t\t}\n\t};\n}];\n","/**\n * The directive for simple repeater forms.\n */\n'use strict';\n\nmodule.exports = ['$http', '$log', '$templateCache', '$compile', '$templateRequest', '$timeout', 'helpers', function($http, $log, $templateCache, $compile, $templateRequest, $timeout, helpers) {\n\treturn {\n\t\trestrict: 'E',\n\t\treplace: true,\n\t\tscope: {\n\t\t\tinData: '=data',\n\t\t\tfieldName: '@',\n\t\t\tlabel: '@',\n\t\t\tfields: '=',\n\t\t},\n\t\tcontroller: ['$scope', function($scope) {\n\t\t\t$scope.$watch('inData', function(newValue) {\n\t\t\t\tvar clonedData = helpers.clone($scope.inData);\n\t\t\t\tif (typeof clonedData !== 'undefined') {\n\t\t\t\t\t$scope.curData = helpers.isJson(clonedData) ? JSON.parse(clonedData) : clonedData;\n\t\t\t\t} else {\n\t\t\t\t\t$scope.curData = [];\n\t\t\t\t}\n\t\t\t\t$scope.inData = JSON.stringify($scope.curData);\n\t\t\t\t$scope.newItem = [];\n\n\t\t\t\t$scope.editorFlags = [];\n\t\t\t\tfor(var i=0, l=$scope.curData.length; i<l; i++) {\n\t\t\t\t\t$scope.editorFlags.push({editing: false});\n\t\t\t\t}\n\t\t\t});\n\t\t}],\n\t\tlink: function(scope, element, attrs) {\n\t\t\t$templateRequest('../templates/partials/forms/fields/simpleRepeater.html').then(function(html) {\n\t\t\t\tvar template = angular.element(html);\n\t\t\t\telement.append(template);\n\t\t\t\t$compile(template)(scope);\n\t\t\t});\n\n\t\t\tscope.addItem = function() {\n\t\t\t\tvar i, l, dataOutput = {};\n\t\t\t\tfor (i=0, l=scope.fields.length; i < l; i++) {\n\t\t\t\t\tvar fieldName = scope.fields[i].fieldName;\n\t\t\t\t\tdataOutput[fieldName] = scope.newItem[i];\n\t\t\t\t}\n\t\t\t\tscope.curData.push(dataOutput);\n\t\t\t\tscope.inData = JSON.stringify(scope.curData);\n\t\t\t\tscope.newItem = [];\n\t\t\t\tscope.editorFlags.push({editing: false});\n\t\t\t};\n\n\t\t\tscope.removeItem = function(index) {\n\t\t\t\tscope.curData.splice(index, 1);\n\t\t\t\tscope.editorFlags.splice(index, 1);\n\t\t\t\tscope.inData = JSON.stringify(scope.curData);\n\t\t\t};\n\n\t\t\tscope.editItem = function(index) {\n\t\t\t\tif (scope.editorFlags[index].editing) {\n\t\t\t\t\tscope.inData = JSON.stringify(scope.curData);\n\t\t\t\t}\n\n\t\t\t\tscope.editorFlags[index].editing = !scope.editorFlags[index].editing;\n\t\t\t};\n\n\t\t}\n\t};\n}];\n","/**\n * The directive for rendering editable post fields.\n */\n'use strict';\n\nmodule.exports = ['$compile', '$http', '$log', '$timeout', '$filter', 'helpers', 'config', function($compile, $http, $log, $timeout, $filter, helpers, config) {\n\tvar tpl = \"<form class='post-field' ng-submit='savePostField()'> \\\n\t\t<ng-include src='fieldInclude'></ng-include> \\\n\t\t<div ng-show='editMode' class='edit-controls'> \\\n\t\t<a class='btn small btn-primary save-link' ng-click='savePostField()'>Save</a> \\\n\t\t<a class='btn small btn-primary cancel-link' ng-click='closeEditField()'>Cancel</a> \\\n\t\t</div> \\\n\t\t</form>\";\n\n\treturn {\n\t\trestrict: 'E',\n\t\treplace: true,\n\t\tscope: {\n\t\t\tfieldType: \"@type\",\n\t\t\tlabel: \"@\",\n\t\t\tkeys: \"=\",\n\t\t\tadminOnly: \"=\",\n\t\t\trelationship: '=',\n\t\t\tisTitle: '=',\n\t\t\tinData: '=fieldData',\n\t\t\tformattedOutput: '@?',\n\t\t\tsimpleSelect: '=?',\n\t\t},\n\t\ttemplate: tpl,\n\t\tcontroller: ['$scope', function($scope) {\n\t\t\t$scope.relation = typeof $scope.relationship !== 'undefined' ? $scope.relationship : false;\n\t\t\t$scope.editAccess = $scope.$parent.editAccess;\n\t\t\t$scope.postType = $scope.$parent.postType;\n\t\t\t$scope.postID = $scope.$parent.postData.id;\n\n\t\t\t$scope.editBtn = \"<a ng-hide='$parent.editMode' class='edit-link' ng-click='$parent.editPostField()'>Edit</a>\";\n\n\t\t\t$scope.fieldInclude = '../templates/partials/single/fields/' + $scope.fieldType + 'field.html';\n\t\t\t$scope.editMode = false;\n\n\t\t\t$scope.applyFilter = function(model, filter) {\n\t\t\t\tif (filter) {\n\t\t\t\t\treturn $filter(filter)(model);\n\t\t\t\t} else {\n\t\t\t\t\treturn model;\n\t\t\t\t}\n\t\t\t};\n\n\t\t\t$scope.$watch('formattedOutput', function(newValue) {\n\t\t\t\tif (newValue && (typeof $scope.fieldData !== 'undefined')) {\n\t\t\t\t\t$scope.fieldData.displayValue = newValue;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t$scope.$watch('inData', function(newValue) {\n\t\t\t\t// $timeout(function() {\n\t\t\t\t\tif (typeof newValue !== 'undefined') {\n\t\t\t\t\t\tvar inDataVal = newValue.initValue;\n\t\t\t\t\t\tif ($scope.fieldType === 'repeater') {\n\t\t\t\t\t\t\tinDataVal = newValue.initValue;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif ($scope.fieldType === 'datetime') {\n\t\t\t\t\t\t\tinDataVal = $filter('date')(newValue.initValue, config.dateFormat, config.dateOffset);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t$scope.fieldData = {displayValue: inDataVal, value: inDataVal, newValue: '', oldValue: null, selectOptions: $scope.selectOptions};\n\t\t\t\t\t}\n\t\t\t\t\tif (newValue && ($scope.fieldType === \"select\" || $scope.fieldType === \"multiselect\")) {\n\t\t\t\t\t\tif (typeof $scope.inData.selectOptions !== 'undefined') {\n\t\t\t\t\t\t\t$scope.selectOptions = $scope.inData.selectOptions;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t$scope.optionsPostType = newValue.postType;\n\t\t\t\t\t\t\t$scope.optionsPostFilter = newValue.postFilter;\n\t\t\t\t\t\t\t$scope.optionsOnly = newValue.only;\n\t\t\t\t\t\t\t$scope.allowAllOptions = false;\n\t\t\t\t\t\t\tif (newValue.allowAll) {\n\t\t\t\t\t\t\t\t$scope.allowAllOptions = true;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t$scope.selectOptions = {postType: $scope.optionsPostType, postFilter: $scope.optionsPostFilter, only: $scope.optionsOnly, allowAll: $scope.allowAllOptions};\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (newValue.optionKeyVal) {\n\t\t\t\t\t\t\t$scope.optionKey = newValue.optionKeyVal[0];\n\t\t\t\t\t\t\t$scope.optionVal = newValue.optionKeyVal[1];\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tif ($scope.optionsOnly) {\n\t\t\t\t\t\t\t\t$scope.optionKey = $scope.optionsOnly;\n\t\t\t\t\t\t\t\t$scope.optionVal = $scope.optionsOnly;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t$scope.optionKey = 0;\n\t\t\t\t\t\t\t\t$scope.optionVal = 1;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif ($scope.fieldData.value) {\n\t\t\t\t\t\t\tif ((typeof $scope.fieldData.value === 'object')) {\n\t\t\t\t\t\t\t\t$scope.fieldData.displayValue = $scope.fieldData.value[$scope.optionKey];\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t$scope.fieldData.displayValue = $scope.fieldData.value;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif($scope.fieldType === \"multiselect\") {\n\t\t\t\t\t\t\t\t$scope.fieldData.displayValue = [];\n\n\t\t\t\t\t\t\t\tif (typeof $scope.fieldData.value !== 'undefined') {\n\t\t\t\t\t\t\t\t\tfor (var j=0; j < $scope.fieldData.value.length; j++) {\n\t\t\t\t\t\t\t\t\t\tif (typeof $scope.fieldData.value[j] === 'object') {\n\t\t\t\t\t\t\t\t\t\t\t$scope.fieldData.displayValue.push($scope.fieldData.value[j][$scope.optionKey]);\n\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t$scope.fieldData.displayValue.push($scope.fieldData.value[j]);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif ($scope.formattedOutput) {\n\t\t\t\t\t\t$scope.fieldData.displayValue = $scope.formattedOutput;\n\t\t\t\t\t}\n\t\t\t\t// }, 500);\n\t\t\t});\n\n\t\t\t$scope.isArray = angular.isArray;\n\t\t\t$scope.testValueForArray = function(value) {\n\t\t\t\tif(angular.isArray(value)) {\n\t\t\t\t\treturn value;\n\t\t\t\t} else {\n\t\t\t\t\treturn [value];\n\t\t\t\t}\n\t\t\t};\n\t\t}],\n\t\tlink: function(scope, element, attrs) {\n\n\t\t\tscope.editPostField = function() {\n\t\t\t\tif (scope.fieldData.value && (typeof scope.fieldData.displayValue !== 'undefined') && (typeof scope.fieldData.value !== 'undefined')) {\n\t\t\t\t\tscope.fieldData.oldDisplayValue = scope.fieldData.displayValue;\n\n\t\t\t\t\tif (scope.fieldData.value.constructor.toString().indexOf(\"Object\") != -1) {\n\t\t\t\t\t\tscope.fieldData.oldValue = JSON.parse(JSON.stringify(scope.fieldData.value));\n\t\t\t\t\t} else {\n\t\t\t\t\t\tscope.fieldData.oldValue = scope.fieldData.value;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t$('#field-save-msg').fadeOut('fast', function() {\n\t\t\t\t\t$('#field-save-msg').remove();\n\t\t\t\t});\n\t\t\t\tscope.editMode = true;\n\t\t\t};\n\n\t\t\tscope.savePostField = function() {\n\t\t\t\tif (scope.fieldData.newValue) {\n\t\t\t\t\tscope.fieldData.displayValue = scope.fieldData.newValue;\n\t\t\t\t\tscope.saveValue = scope.fieldData.newValue;\n\t\t\t\t\tscope.fieldData.newValue = '';\n\t\t\t\t} else {\n\t\t\t\t\tscope.fieldData.displayValue = scope.fieldData.value;\n\t\t\t\t\tscope.saveValue = scope.fieldData.value;\n\n\t\t\t\t\tif (typeof scope.inData.selectOptions !== 'undefined') {\n\t\t\t\t\t\tif (scope.optionKey && scope.optionVal) {\n\t\t\t\t\t\t\tscope.fieldData.displayValue = scope.fieldData.value[scope.optionKey];\n\t\t\t\t\t\t\tscope.saveValue = scope.fieldData.value[scope.optionVal];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif (scope.inData.optionKeyVal) {\n\t\t\t\t\t\tscope.fieldData.displayValue = scope.fieldData.value[scope.optionKey];\n\n\t\t\t\t\t\tif(scope.fieldType === \"multiselect\") {\n\t\t\t\t\t\t\tscope.fieldData.displayValue = [];\n\n\t\t\t\t\t\t\tfor (var j=0; j < scope.fieldData.value.length; j++) {\n\t\t\t\t\t\t\t\tscope.fieldData.displayValue.push(scope.fieldData.value[j][scope.optionKey]);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (scope.formattedOutput) {\n\t\t\t\t\tscope.fieldData.displayValue = scope.formattedOutput;\n\t\t\t\t}\n\n\t\t\t\tscope.editMode = false;\n\n\t\t\t\t$http.post('/api/save_post_field', {post_id: scope.$parent.postData.id, post_type: scope.$parent.postType, field_key: scope.keys, field_value: scope.saveValue, relationship: scope.relation})\n\t\t\t\t\t.then(function(results) {\n\t\t\t\t\t\tjQuery(element[0]).append('<span id=\"field-save-msg\" class=\"success\">' + results.data.success + '</span>');\n\t\t\t\t\t\tscope.$parent.postData[scope.keys] = scope.saveValue;\n\t\t\t\t\t\t// $log.log(results.data);\n\t\t\t\t\t}, function(error) {\n\t\t\t\t\t\tjQuery(element[0]).append('<span id=\"field-save-msg\" class=\"error\">' + error.data.error + '</span>');\n\t\t\t\t\t\t$log.log(error.data);\n\t\t\t\t\t});\n\n\t\t\t\tif ($('#field-save-msg').length > 0) {\n\t\t\t\t\t$timeout(function() {\n\t\t\t\t\t\t$('#field-save-msg').fadeOut('fast', function() {\n\t\t\t\t\t\t\t$('#field-save-msg').remove();\n\t\t\t\t\t\t});\n\t\t\t\t\t}, 6000);\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tscope.closeEditField = function() {\n\t\t\t\tif (scope.fieldData.value !== scope.fieldData.oldValue) {\n\t\t\t\t\tif (scope.fieldType !== 'datetime') {\n\t\t\t\t\t\tscope.fieldData.displayValue = scope.fieldData.oldDisplayValue;\n\t\t\t\t\t\tscope.fieldData.value = scope.fieldData.oldValue;\n\t\t\t\t\t\tscope.fieldData.oldValue = null;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tscope.editMode = false;\n\t\t\t};\n\n\t\t\tscope.addItem = function() {\n\t\t\t\tvar fieldKeys = Object.keys(scope.fieldData.displayValue[0]);\n\t\t\t\tscope.fieldData.displayValue[scope.fieldData.displayValue.length] = {};\n\t\t\t\tfor (var i=0; i < fieldKeys.length; i++) {\n\t\t\t\t\tscope.fieldData.displayValue[scope.fieldData.displayValue.length - 1][fieldKeys[i]] = '';\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tscope.removeItem = function($index) {\n\t\t\t\tscope.fieldData.displayValue.splice($index, 1);\n\t\t\t};\n\n\t\t}\n\t};\n}];\n","module.exports = ['helpers', '$log', function(helpers, $log) {\n\treturn {\n\t\trestrict: 'E',\n\t\treplace: true,\n\t\tscope: {\n\t\t\taxis: '@',\n\t\t\tmodel: '=',\n\t\t\tmetricOpts: '=opts',\n\t\t},\n\t\ttemplateUrl: '../templates/partials/reports/chart-metrics.html',\n\t\tcontroller: function($scope) {\n\t\t},\n\t\tlink: function(scope, element, attrs) {\n\t\t}\n\t};\n}];\n","module.exports = ['$log', 'helpers', function($log, helpers) {\n\treturn {\n\t\trestrict: 'E',\n\t\treplace: true,\n\t\ttemplateUrl: '../templates/partials/reports/report-filter.html',\n\t\tlink: function(scope, element, attrs) {\n\t\t\tscope.filter.filterDetail = {};\n\n\t\t\tscope.$watch('filter.filterDetail', function(newValue) {\n\t\t\t\tscope.newWidgetFilterSelect = {\n\t\t\t\t\tfilterSelect: scope.filter.filterSelect,\n\t\t\t\t\tfilterDetail: {}\n\t\t\t\t};\n\n\t\t\t\tif (scope.filter.filterDetail.hasOwnProperty('reportStartDate') && scope.filter.filterDetail.hasOwnProperty('reportEndDate')) {\n\t\t\t\t\tif (scope.filter.filterDetail.hasOwnProperty('name')) {\n\t\t\t\t\t\tdelete scope.filter.filterDetail.name;\n\t\t\t\t\t}\n\t\t\t\t\tif (scope.filter.filterDetail.hasOwnProperty('value')) {\n\t\t\t\t\t\tdelete scope.filter.filterDetail.value;\n\t\t\t\t\t}\n\n\t\t\t\t\tscope.filter_date_range[0] = new Date(scope.filter.filterDetail.reportStartDate);\n\t\t\t\t\tscope.filter_date_range[1] = new Date(scope.filter.filterDetail.reportEndDate);\n\t\t\t\t\tscope.newWidgetFilterSelect.filterDetail.reportStartDate = helpers.dateToPDateTime(scope.filter_date_range[0]);\n\t\t\t\t\tscope.newWidgetFilterSelect.filterDetail.reportEndDate = helpers.dateToPDateTime(scope.filter_date_range[1]);\n\t\t\t\t} else {\n\t\t\t\t\tscope.newWidgetFilterSelect.filterDetail = scope.filter.filterDetail;\n\t\t\t\t}\n\t\t\t}, true);\n\t\t}\n\t};\n}];\n","module.exports = [function() {\n\tvar tpl = \"{{ widget.id }} - {{ widget.type }} \\\n\t\t\t<label>Filter By:</label> \\\n\t\t\t<select class='form-control' ng-options='option.value as option.name for option in widgetFilters'> \\\n\t\t\t<option>--select filter control--</option> \\\n\t\t\t</select> \\\n\t\t\t<input type='submit' class='btn btn-primary btn-sm' value='Add Another Filter' />\";\n\n\treturn {\n\t\trestrict: 'E',\n\t\treplace: true,\n\t\ttemplate: tpl,\n\t\tlink: function(scope, element, attrs) {\n\t\t}\n\t};\n}];\n","module.exports = [function() {\n\treturn {\n\t\trestrict: 'E',\n\t\treplace: true,\n\t\ttemplateUrl: '../templates/partials/reports/widget-metric.html',\n\t\tlink: function(scope, element, attrs) {\n\t\t}\n\t};\n}];\n","module.exports = ['$templateRequest', '$compile', function($templateRequest, $compile) {\n\treturn {\n\t\trestrict: 'E',\n\t\treplace: true,\n\t\tscope: {\n\t\t\ttype: '@',\n\t\t},\n\t\t// templateUrl: '../templates/partials/reports/report-tables/' + $scope.type + '.html',\n\t\tlink: function(scope, element, attrs) {\n\t\t\t// console.log(scope.type);\n\t\t\t$templateRequest('../templates/partials/reports/report-tables/' + scope.type + '.html').then(function(html) {\n\t\t\t\tvar template = angular.element(html);\n\t\t\t\telement.append(template);\n\t\t\t\t$compile(template)(scope);\n\t\t\t});\n\t\t}\n\t};\n}];\n","module.exports = ['$timeout', 'WidgetTable', 'WidgetChart', '$log', 'helpers', 'ReportUtils', function($timeout, WidgetTable, WidgetChart, $log, helpers, ReportUtils) {\n\treturn {\n\t\trestrict: 'E',\n\t\treplace: true,\n\t\ttemplateUrl: '../templates/partials/reports/widget-template.html',\n\t\tcontroller: function($scope) {\n\t\t\t$scope.widgetTitleEdit = false;\n\t\t\t$scope.widgetTypeEdit = false;\n\t\t\t// $scope.filtersCollapsed = true;\n\t\t\t$scope.metricsCollapsed = true;\n\n\t\t\t$scope.metrics = {};\n\t\t\t// $scope.filters = $scope.widget.filters !== 'undefined' ? $scope.widget.filters : [{'id': 'filter1', 'filterSelect': $scope.widgetFilterOpts[0]}];\n\t\t\t// $scope.metrics = $scope.widget.metrics !== 'undefined' ? $scope.widget.metrics :  [{'id': 'metric1', 'metricSelect': $scope.widgetMetricOpts[0]}];\n\t\t\t// $scope.metrics = $scope.widget.metrics !== 'undefined' ? $scope.widget.metrics :  [$scope.widgetMetricOpts[0]];\n\t\t\t$scope.metrics.x = $scope.widget.metrics.x !== 'undefined' ? $scope.widget.metrics.x : [$scope.widgetXMetricOpts[0]];\n\t\t\t$scope.metrics.y = $scope.widget.metrics.y !== 'undefined' ? $scope.widget.metrics.y : [$scope.widgetYMetricOpts[$scope.$parent.reportType][0]];\n\t\t\t// $log.log($scope.metrics);\n\n\t\t},\n\t\tlink: function(scope, element, attrs) {\n\n\t\t\t// scope.addWidgetFilter = function() {\n\t\t\t// \tvar newItemNo = scope.filters.length + 1;\n\t\t\t// \tscope.filters.push({'id':'filter'+newItemNo, 'filterSelect':scope.widgetFilterOpts[0]});\n\t\t\t// };\n\n\n\t\t\t// scope.addWidgetMetric = function() {\n\t\t\t// \tvar newItemNo = scope.filters.length + 1;\n\t\t\t// \tscope.metrics.push({'id':'metric'+newItemNo, 'metricSelect':scope.widgetMetricOpts[0]});\n\t\t\t// };\n\n\n\t\t\tvar getXMetricPT = function(input) {\n\t\t\t\tvar postType;\n\n\t\t\t\tswitch(input) {\n\t\t\t\t\tcase 'user':\n\t\t\t\t\t\tpostType = \"User\";\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'districts':\n\t\t\t\t\t\tpostType = \"District\";\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'schools':\n\t\t\t\t\t\tpostType = \"School\";\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'activity_types':\n\t\t\t\t\t\tpostType = \"Activity_Type\";\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tpostType = null;\n\t\t\t\t}\n\n\t\t\t\treturn postType;\n\t\t\t};\n\n\n\t\t\t// var renderWidgetData = function(filtersLength, metricsLength) {\n\t\t\tvar renderWidgetData = function() {\n\t\t\t\tscope.chartData = [];\n\t\t\t\tvar filterStr = '';\n\n\t\t\t\t// var filters = [];\n\n\t\t\t\t// if(!filtersLength) {\n\t\t\t\t// \tfor (var f=0, fl=scope.filters.length; f<fl; f++) {\n\t\t\t\t// \t\tfilters.push(scope.filters[f].filterSelect);\n\t\t\t\t// \t}\n\t\t\t\t// \tscope.widget.filters = filters;\n\t\t\t\t// } else {\n\t\t\t\t// \tfilters = scope.widget.filters;\n\t\t\t\t// }\n\n\n\t\t\t\t// var metrics = [];\n\n\t\t\t\t// if(!metricsLength) {\n\t\t\t\t// \tfor (var m=0, ml=scope.metrics.length; m<ml; m++) {\n\t\t\t\t// \t\t// if (scope.metrics[m] && typeof scope.metrics[m] !== 'undefined') {\n\t\t\t\t// \t\t\t// metrics.push(scope.metrics[m].metricSelect);\n\t\t\t\t// \t\t\tmetrics.push(scope.metrics[m]);\n\t\t\t\t// \t\t// }\n\t\t\t\t// \t}\n\t\t\t\t// \tscope.widget.metrics = metrics;\n\t\t\t\t// } else {\n\t\t\t\t// \tmetrics = scope.widget.metrics;\n\t\t\t\t// }\n\n\t\t\t\tvar postData, metricPT, metricObj, chartDataArr = [];\n\n\t\t\t\tvar chartDataCallback = function(metricXData, metricYData) {\n\t\t\t\t\treturn function(results) {\n\t\t\t\t\t\tvar chartLabels = [];\n\t\t\t\t\t\tvar chartData = [];\n\t\t\t\t\t\t// var metricObj = {};\n\n\t\t\t\t\t\tfor (var i=0, l=results.length; i<l; i++) {\n\t\t\t\t\t\t\tif (metricXData.value === 'user') {\n\t\t\t\t\t\t\t\tchartLabels.push(results[i].first_name + ' ' + results[i].last_name);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tchartLabels.push(results[i].name);\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t// if (metricXData.value === 'districts' || metricXData.value === 'schools') {\n\t\t\t\t\t\t\t// }\n\n\t\t\t\t\t\t\tif (metricYData.value === 'time_spent') {\n\t\t\t\t\t\t\t\t// $log.log(scope.$parent.logs_data);\n\t\t\t\t\t\t\t\tchartData.push(ReportUtils.calcTimeSpent(results[i], metricXData.value, scope.$parent.logs_data));\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t// metricObj.label = metricData.label;\n\t\t\t\t\t\t\t// metricObj.value = results.length;\n\n\t\t\t\t\t\t\t// scope.chartData.push(metricObj);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (typeof scope.chartElem !== 'undefined') {\n\t\t\t\t\t\t\t// $log.log(chartLabels);\n\t\t\t\t\t\t\tif (element.chart) {\n\t\t\t\t\t\t\t\telement.chart.destroy();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (scope.widget.type !== 'table') {\n\t\t\t\t\t\t\t\telement.chart = WidgetChart.makeChart(scope.widget.type, scope.chartElem, chartLabels, chartData);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\telement.chart = WidgetTable.makeTable({});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t};\n\n\t\t\t\t// if (metrics) {\n\t\t\t\t\t// for (var m=0, ml=metrics.length; m<ml; m++) {\n\t\t\t\t\t\tif ((scope.widget.metrics.x && typeof scope.widget.metrics.x !== 'undefined') && (scope.widget.metrics.y && typeof scope.widget.metrics.y !== 'undefined'))  {\n\n\t\t\t\t\t\t\t// postData = getPosts(metricPT, filterStr, postDataCallback(metricObj));\n\t\t\t\t\t\t\tmetricXPT = getXMetricPT(scope.widget.metrics.x.value);\n\t\t\t\t\t\t\thelpers.getPosts(metricXPT, filterStr, chartDataCallback(scope.widget.metrics.x, scope.widget.metrics.y));\n\n\t\t\t\t\t\t\t// if (scope.widget.metrics.y && typeof scope.widget.metrics.y !== 'undefined') {\n\t\t\t\t\t\t\t\t// if (scope.widget.metrics.y.value === 'time_spent') {\n\t\t\t\t\t\t\t\t\t// ReportUtils.processYMetric(scope.widget.metrics.y.value, metricXPT, filterStr, chartDataCallback(scope.widget.metrics.y, function(results, returnObj) {\n\t\t\t\t\t\t\t\t\t// \t$log.log(results);\n\n\t\t\t\t\t\t\t\t\t// \treturnObj.label = scope.widget.metrics.y.label;\n\t\t\t\t\t\t\t\t\t// \treturnObj.value = results.length;\n\n\t\t\t\t\t\t\t\t\t// \treturn returnObj;\n\t\t\t\t\t\t\t\t\t// }));\n\t\t\t\t\t\t\t\t// }\n\t\t\t\t\t\t\t\t// if (scope.widget.metrics.y.value === 'total_expenses') {\n\t\t\t\t\t\t\t\t// \tReportUtils.processYMetric(metricXPT, filterStr, chartDataCallback(scope.widget.metrics.y))\n\t\t\t\t\t\t\t\t// }\n\t\t\t\t\t\t\t// }\n\t\t\t\t\t\t}\n\t\t\t\t\t// }\n\t\t\t\t// }\n\n\t\t\t\t// return [{label: \"Red\", value: 300}, {label: \"Green\", value: 50}, {label: \"Yellow\",  value: 100}, {label: \"Fart\", value: 666}, {label: \"WHUHUHHHH\", value: 43}];\n\t\t\t\treturn scope.chartData;\n\t\t\t};\n\n\t\t\tscope.updateWidgetTitle = function(action) {\n\t\t\t\tif (action === 'save') {\n\t\t\t\t\tscope.widget.title = scope.widgetNewTitle;\n\t\t\t\t\tReportUtils.buildReportURL(scope.$parent.reportType, scope.$parent.reportPreset, scope.$parent.reportTitle, scope.$parent.reportFilter, scope.$parent.widgets);\n\t\t\t\t} else if (action === 'cancel') {\n\t\t\t\t\tscope.widgetNewTitle = scope.widget.title;\n\t\t\t\t}\n\t\t\t\tscope.widgetTitleEdit = false;\n\t\t\t};\n\n\t\t\tscope.updateWidgetType = function(action) {\n\t\t\t\tif (action === 'save') {\n\t\t\t\t\tvar type = scope.selectedWidgetType;\n\t\t\t\t\tscope.widget.type = type.value;\n\t\t\t\t\tscope.widget.typeLabel = type.label;\n\t\t\t\t\tscope.updateWidget();\n\t\t\t\t}\n\t\t\t\tscope.widgetTypeEdit = false;\n\t\t\t};\n\n\t\t\t// scope.updateWidget = function(initFiltersNum, initMetricsNum) {\n\t\t\tscope.updateWidget = function() {\n\t\t\t\trenderWidgetData();\n\t\t\t\t// renderWidgetData(initFiltersNum, initMetricsNum);\n\t\t\t\tReportUtils.buildReportURL(scope.$parent.reportType, scope.$parent.reportPreset, scope.$parent.reportTitle, scope.$parent.reportFilter, scope.$parent.widgets);\n\t\t\t};\n\n\t\t\tscope.compileMetricsGroup = function(inGroup, outArr) {\n\t\t\t\tvar metricsLength = typeof inGroup !== 'undefined' ? inGroup.length : 0;\n\n\t\t\t\tif(metricsLength) {\n\t\t\t\t\tfor(var m=0; m<metricsLength; m++) {\n\t\t\t\t\t\tif (inGroup[m] && typeof inGroup[m] !== 'undefined') {\n\t\t\t\t\t\t\twidgetMetricOpt = helpers.getObjByValue(scope.widgetMetricOpts, inGroup[m].value);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\twidgetMetricOpt = null;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\toutArr.push(widgetMetricOpt);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tscope.widgetInit = function() {\n\t\t\t\t$timeout(function() {\n\t\t\t\t\t// var widgetFilterOpt, widgetMetricOpt;\n\t\t\t\t\t// var filtersLength = typeof scope.widget.filters !== 'undefined' ? scope.widget.filters.length : 0;\n\t\t\t\t\t// var metricsXLength = typeof scope.widget.metrics.x !== 'undefined' ? scope.widget.metrics.x.length : 0;\n\t\t\t\t\t// var metricsYLength = typeof scope.widget.metrics.y !== 'undefined' ? scope.widget.metrics.y.length : 0;\n\n\t\t\t\t\t// if(filtersLength) {\n\t\t\t\t\t// \tscope.filters = [];\n\t\t\t\t\t// \tfor(var f=0; f<filtersLength; f++) {\n\t\t\t\t\t// \t\twidgetFilterOpt = helpers.getObjByValue(scope.widgetFilterOpts, scope.widget.filters[f].value);\n\t\t\t\t\t// \t\tscope.filters.push({'id':'filter'+f, 'filterSelect':widgetFilterOpt});\n\t\t\t\t\t// \t}\n\t\t\t\t\t// }\n\t\t\t\t\t// if(metricsXLength) {\n\t\t\t\t\t// \tscope.metrics.x = [];\n\t\t\t\t\t// \tfor(var m=0; m<metricsLength; m++) {\n\t\t\t\t\t// \t\tif (scope.widget.metrics.x[m] && typeof scope.widget.metrics.x[m] !== 'undefined') {\n\t\t\t\t\t// \t\t\twidgetMetricOpt = helpers.getObjByValue(scope.widgetMetricOpts, scope.widget.metrics[m].value);\n\t\t\t\t\t// \t\t} else {\n\t\t\t\t\t// \t\t\twidgetMetricOpt = null;\n\t\t\t\t\t// \t\t}\n\t\t\t\t\t// \t\t// scope.metrics.push({'id':'metric'+m, 'metricSelect':widgetMetricOpt});\n\t\t\t\t\t// \t\tscope.metrics.push(widgetMetricOpt);\n\t\t\t\t\t// \t}\n\t\t\t\t\t// }\n\t\t\t\t\t// scope.metrics.x = [];\n\t\t\t\t\t// scope.metrics.y = [];\n// $log.log(scope.widget.metrics.x);\n\t\t\t\t\tscope.compileMetricsGroup(scope.widget.metrics.x, scope.metrics.x);\n\t\t\t\t\tscope.compileMetricsGroup(scope.widget.metrics.y, scope.metrics.y);\n\n\n\t\t\t\t\tscope.selectedWidgetType = helpers.getObjByValue(scope.widgetOptions, scope.widget.type);\n\t\t\t\t\tscope.chartElem = document.getElementById(scope.widget.id + '-' + scope.widget.type);\n\n\t\t\t\t\trenderWidgetData();\n\t\t\t\t\t// renderWidgetData(filtersLength, metricsLength);\n\t\t\t\t\t// scope.makeWidget(filtersLength, metricsLength);\n\t\t\t\t}, 300);\n\t\t\t};\n\n\t\t\tscope.widgetInit();\n\n\t\t}\n\t};\n}];\n","/**\n * The directive for the app main ara.\n */\n'use strict';\n\nmodule.exports = function() {\n\treturn {\n\t\trestrict: 'A',\n\t\treplace: true,\n\t\tscope: '=',\n\t\ttemplateUrl: '../templates/partials/sescst-main.html',\n\t\tcontroller: 'mainCtrl'\n\t};\n};\n","/**\n * The directive for the app sidebar.\n */\n'use strict';\n\nmodule.exports = ['$log', function($log) {\n\treturn {\n\t\trestrict: 'E',\n\t\treplace: true,\n\t\tscope: {\n\t\t\ttype: '@',\n\t\t},\n\t\ttemplate:'<ng-include src=\"tpl\"/>',\n\t\tcontroller: 'sescSidebarCtrl',\n\t\tlink: function(scope, element, attrs) {\n\t\t\t// $log.log(scope.type);\n\t\t\tscope.tpl = '../templates/partials/sidebar/sidebar-main.html';\n\t\t\tif (scope.type) {\n\t\t\t\tscope.tpl = '../templates/partials/sidebar/sidebar-' + scope.type + '.html';\n\t\t\t}\n\t\t}\n\t};\n}];\n","/**\n * The directive for rendering and compiling dynamic html elements.\n */\n'use strict';\n\nmodule.exports = ['$compile', function ($compile) {\n\treturn {\n\t\trestrict: 'E',\n\t\tscope: {\n\t\t\thtml: \"=\"\n\t\t},\n\t\treplace: true,\n\t\tlink: function(scope, element, attrs) {\n\t\t\tvar template = $compile(scope.html)(scope);\n\t\t\telement.replaceWith(template);\n\t\t},\n\t};\n}];\n","/**\n * The directive for jsonText fields.\n */\n'use strict';\n\nmodule.exports = [function() {\n\treturn {\n\t\trestrict: 'A',\n\t\trequire: 'ngModel',\n\t\tlink: function(scope, element, attrs, ngModelCtrl) {\n\t\t\tvar lastValid;\n\n\t\t\tngModelCtrl.$parsers.push(fromUser);\n\t\t\tngModelCtrl.$formatters.push(toUser);\n\n\t\t\telement.bind('blur', function() {\n\t\t\t\telement.val(toUser(scope.$eval(attrs.ngModel)));\n\t\t\t});\n\n\t\t\tscope.$watch(attrs.ngModel, function(newValue, oldValue) {\n\t\t\t\tlastValid = lastValid || newValue;\n\n\t\t\t\tif (newValue !== oldValue) {\n\t\t\t\t\tngModelCtrl.$setViewValue(toUser(newValue));\n\n\t\t\t\t\tngModelCtrl.$render();\n\t\t\t\t}\n\t\t\t}, true);\n\n\t\t\tfunction fromUser(text) {\n\t\t\t\tif (!text || text.trim() === '') {\n\t\t\t\t\treturn {};\n\t\t\t\t} else {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tlastValid = angular.fromJson(text);\n\t\t\t\t\t\tngModelCtrl.$setValidity('invalidJson', true);\n\t\t\t\t\t} catch(e) {\n\t\t\t\t\t\tngModelCtrl.$setValidity('invalidJson', false);\n\t\t\t\t\t}\n\t\t\t\t\treturn lastValid;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfunction toUser(object) {\n\t\t\t\treturn angular.toJson(object, true);\n\t\t\t}\n\t\t}\n\t};\n}];\n","/**\n * The directive for rendering static includes.\n */\n'use strict';\n\nmodule.exports = ['$templateRequest', '$compile', function($templateRequest, $compile) {\n\treturn {\n\t\trestrict: 'A',\n\t\ttransclude: true,\n\t\treplace: true,\n\t\tscope: false,\n\t\tlink: function($scope, element, attrs, ctrl, transclude) {\n\t\t\tvar templatePath = attrs.staticInclude;\n\n\t\t\t$templateRequest(templatePath)\n\t\t\t\t.then(function(response) {\n\t\t\t\t\tvar contents = element.html(response).contents();\n\t\t\t\t\t$compile(contents)($scope.$new(false, $scope.$parent));\n\t\t\t\t});\n\t\t}\n\t};\n}];\n","module.exports = ['ColorRange', '$log', function(ColorRange, $log) {\n\tvar availColors, chartData, chartOptions;\n\tvar WidgetChart = {};\n\n\tWidgetChart.makeChart = function(chartType, chartCanvas, chartLabels, chartDataVals, chartOptions) {\n\t\tvar chartLabels, chartDataValues, chartDataSets, bgColor;\n\t\tvar chartCtx = chartCanvas.getContext(\"2d\")\n\t\tvar midX = chartCanvas.width/2;\n\t\tvar midY = chartCanvas.height/2\n\n\t\t// chartLabels = [];\n\t\t// chartDataValues = [];\n\t\t// for(var o in chartData) {\n\t\t// \tchartLabels.push(chartData[o].label);\n\t\t// \tchartDataValues.push(chartData[o].value);\n\t\t// }\n\n\t\tavailColors = ColorRange.getColorRange(chartLabels.length);\n\n\t\tif (chartType === 'doughnut' || chartType === 'pie') {\n\t\t\tbgColor = availColors;\n\t\t\tchartOptions = {\n\t\t\t\t// fullWidth: false\n\t\t\t\t// showTooltips: false,\n\t\t\t\t// tooltips: {\n\t\t\t\t// \tenabled: false,\n\t\t\t\t// },\n\t\t\t\t// animation: {\n\t\t\t\t// \tonProgress: drawSegmentValues,\n\t\t\t\t// }\n\t\t\t};\n\t\t} else if (chartType === 'bar') {\n\t\t\tbgColor = availColors[0];\n\t\t\tchartOptions = {\n\t\t\t\t// fullWidth: false\n\t\t\t};\n\t\t}\n\n\t\tchartDataSets = [\n\t\t\t{\n\t\t\t\t// label: \"Metric Label\",\n\t\t\t\tdata: chartDataVals,\n\t\t\t\tbackgroundColor: bgColor,\n\t\t\t}\n\t\t];\n\n\t\tchartData = {\n\t\t\tlabels: chartLabels,\n\t\t\tdatasets: chartDataSets\n\t\t};\n\n\t\tvar thisChart = new Chart(chartCtx, {\n\t\t\ttype: chartType,\n\t\t\tdata: chartData,\n\t\t\toptions: chartOptions,\n\t\t});\n\n\t\t// var thisChart = new Chart(chartCtx).Pie(chartData, {\n\t\t// \tshowTooltips: false,\n\t\t// \tonAnimationProgress: drawSegmentValues\n\t\t// });\n\n\t\t// var radius = thisChart.outerRadius;\n\n\t\t// function drawSegmentValues() {\n\t\t// \t$log.log('hey!');\n\n\t\t// \tfor (var i=0; i<thisChart.segments.length; i++) {\n\t\t// \t\tchartCtx.fillStyle=\"white\";\n\t\t// \t\tvar textSize = chartCanvas.width/10;\n\t\t// \t\tchartCtx.font = textSize + 'px Verdana';\n\t\t// \t\t// Get needed variables\n\t\t// \t\tvar value = thisChart.segments[i].value;\n\t\t// \t\tvar startAngle = thisChart.segments[i].startAngle;\n\t\t// \t\tvar endAngle = thisChart.segments[i].endAngle;\n\t\t// \t\tvar middleAngle = startAngle + ((endAngle = startAngle)/2);\n\n\t\t// \t\t//Computer text location\n\t\t// \t\tvar posX = (radius/2) * Math.cos(middleAngle) + midX;\n\t\t// \t\tvar posY = (radius/2) * Math.sin(middleAngle) + midY;\n\n\t\t// \t\t//Text offside by middle\n\t\t// \t\tvar w_offset = chartCtx.measureText(value).width/2;\n\t\t// \t\tvar h_offset = textSize/4;\n\n\t\t// \t\tchartCtx.fillText(value, posX - w_offset, posY + h_offset);\n\t\t// \t}\n\t\t// }\n\n\t\treturn thisChart;\n\t};\n\n\treturn WidgetChart;\n}];\n","module.exports = ['$uibModal', function($uibModal) {\n\n\tvar colorRange = [];\n\n\tfunction changeHue(rgb, degree) {\n\t    var hsl = rgbToHSL(rgb);\n\t    hsl.h += degree;\n\t    if (hsl.h > 360) {\n\t        hsl.h -= 360;\n\t    }\n\t    else if (hsl.h < 0) {\n\t        hsl.h += 360;\n\t    }\n\t    return hslToRGB(hsl);\n\t}\n\t// exepcts a string and returns an object\n\tfunction rgbToHSL(rgb) {\n\t    // strip the leading # if it's there\n\t    rgb = rgb.replace(/^\\s*#|\\s*$/g, '');\n\n\t    // convert 3 char codes --> 6, e.g. `E0F` --> `EE00FF`\n\t    if(rgb.length == 3){\n\t        rgb = rgb.replace(/(.)/g, '$1$1');\n\t    }\n\n\t    var r = parseInt(rgb.substr(0, 2), 16) / 255,\n\t        g = parseInt(rgb.substr(2, 2), 16) / 255,\n\t        b = parseInt(rgb.substr(4, 2), 16) / 255,\n\t        cMax = Math.max(r, g, b),\n\t        cMin = Math.min(r, g, b),\n\t        delta = cMax - cMin,\n\t        l = (cMax + cMin) / 2,\n\t        h = 0,\n\t        s = 0;\n\n\t    if (delta == 0) {\n\t        h = 0;\n\t    }\n\t    else if (cMax == r) {\n\t        h = 60 * (((g - b) / delta) % 6);\n\t    }\n\t    else if (cMax == g) {\n\t        h = 60 * (((b - r) / delta) + 2);\n\t    }\n\t    else {\n\t        h = 60 * (((r - g) / delta) + 4);\n\t    }\n\n\t    if (delta == 0) {\n\t        s = 0;\n\t    }\n\t    else {\n\t        s = (delta/(1-Math.abs(2*l - 1)))\n\t    }\n\n\t    return {\n\t        h: h,\n\t        s: s,\n\t        l: l\n\t    }\n\t}\n\n\t// expects an object and returns a string\n\tfunction hslToRGB(hsl) {\n\t    var h = hsl.h,\n\t        s = hsl.s,\n\t        l = hsl.l,\n\t        c = (1 - Math.abs(2*l - 1)) * s,\n\t        x = c * ( 1 - Math.abs((h / 60 ) % 2 - 1 )),\n\t        m = l - c/ 2,\n\t        r, g, b;\n\n\t    if (h < 60) {\n\t        r = c;\n\t        g = x;\n\t        b = 0;\n\t    }\n\t    else if (h < 120) {\n\t        r = x;\n\t        g = c;\n\t        b = 0;\n\t    }\n\t    else if (h < 180) {\n\t        r = 0;\n\t        g = c;\n\t        b = x;\n\t    }\n\t    else if (h < 240) {\n\t        r = 0;\n\t        g = x;\n\t        b = c;\n\t    }\n\t    else if (h < 300) {\n\t        r = x;\n\t        g = 0;\n\t        b = c;\n\t    }\n\t    else {\n\t        r = c;\n\t        g = 0;\n\t        b = x;\n\t    }\n\n\t    r = normalize_rgb_value(r, m);\n\t    g = normalize_rgb_value(g, m);\n\t    b = normalize_rgb_value(b, m);\n\n\t    return rgbToHex(r,g,b);\n\t}\n\n\tfunction normalize_rgb_value(color, m) {\n\t    color = Math.floor((color + m) * 255);\n\t    if (color < 0) {\n\t        color = 0;\n\t    }\n\t    return color;\n\t}\n\n\tfunction rgbToHex(r, g, b) {\n\t    return \"#\" + ((1 << 24) + (r << 16) + (g << 8) + b).toString(16).slice(1);\n\t}\n\n\tthis.getColorRange = function(numColors) {\n\t\tvar curHue = '#394894';\n\t\tfor (var i = 0; i < numColors; i++) {\n\t\t\tcolorRange.push(curHue);\n\t\t\tcurHue = changeHue(curHue, 69);\n\t\t}\n\n\t\treturn colorRange;\n\t};\n}];\n","module.exports = ['$log', '$location', '$http', '$window', '$routeParams', 'helpers', function($log, $location, $http, $window, $routeParams, helpers) {\n\tvar rison = require('rison');\n\treturn {\n\t\tbuildReportURL: function($reportType, $reportPreset, $reportTitle, $reportFilters, $widgets) {\n\t\t\tvar $widgets = typeof $widgets !== 'undefined' ? $widgets : null;\n\t\t\tvar risonWidgetData;\n\t\t\tvar editingID = null;\n\t\t\tif ($location.search('edit')) {\n\t\t\t\teditingID = $routeParams.edit;\n\t\t\t}\n\t\t\tvar curPath = $location.path();\n\t\t\tvar newUrl = curPath + '?';\n\n\t\t\tnewUrl += 'reportType=' + encodeURI($reportType);\n\t\t\tnewUrl += '&reportPreset=' + JSON.stringify($reportPreset);\n\t\t\tnewUrl += '&reportTitle=' + encodeURI($reportTitle);\n\t\t\tnewUrl += '&reportFilters=' + encodeURI($reportFilters);\n\n\t\t\tif ($widgets.length) {\n\t\t\t\tnewUrl += '&reportWidgets=';\n\n\t\t\t\tvar widgetsObj = {};\n\n\t\t\t\tfor(var i=0, l=$widgets.length; i<l; i++) {\n\t\t\t\t\twidgetsObj[$widgets[i].id] = $widgets[i];\n\t\t\t\t}\n\n\t\t\t\tnewUrl += rison.encode(widgetsObj) + '&';\n\t\t\t// $log.log(newUrl);\n\t\t\t}\n\n\t\t\tif (editingID) {\n\t\t\t\tnewUrl += '&edit=' + editingID;\n\t\t\t}\n\n\t\t\t$location.url(newUrl);\n\t\t},\n\t\tbuildReportFromURL: function($filter, $widgetsArr, $callback) {\n\t\t\tvar urlParams = $location.search();\n\t\t\tif (Object.keys(urlParams).length) {\n\t\t\t\tvar $widgets, key, widgetKey, reportData;\n\n\t\t\t\tfor (key in urlParams) {\n\t\t\t\t\tif(urlParams.hasOwnProperty(key)) {\n\t\t\t\t\t\tif(key !== 'edit') {\n\t\t\t\t\t\t\tif (key === 'reportFilters') {\n\t\t\t\t\t\t\t\t// $log.log(urlParams[key]);\n\t\t\t\t\t\t\t\t$filter = decodeURI(urlParams[key]);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (key === 'reportWidgets') {\n\t\t\t\t\t\t\t\t$widgets = rison.decode(urlParams[key]);\n\n\t\t\t\t\t\t\t\tif (Object.keys($widgets).length) {\n\t\t\t\t\t\t\t\t\tfor (widgetKey in $widgets) {\n\t\t\t\t\t\t\t\t\t\t$widgetsArr.push($widgets[widgetKey]);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treportData = {\n\t\t\t\t\treportType: decodeURI(urlParams.reportType),\n\t\t\t\t\treportPreset: JSON.parse(urlParams.reportPreset),\n\t\t\t\t\treportTitle: decodeURI(urlParams.reportTitle),\n\t\t\t\t\treportFilters: $filter,\n\t\t\t\t\treportWidgets: $widgetsArr,\n\t\t\t\t};\n\t\t\t\t$callback(reportData);\n\t\t\t}\n\t\t},\n\t\tsaveReport: function(editID) {\n\t\t\tvar reportURL= $location.url();\n\t\t\treportURL = helpers.removeURLParameter(reportURL, 'edit');\n\n\t\t\t$window.onbeforeunload = null;\n\n\t\t\t$http.post('/api/save-report-url', {report_url: reportURL, editing_id: editID})\n\t\t\t\t.then(function(results) {\n\t\t\t\t\t$window.location.href = results.data;\n\t\t\t\t\t$log.log(results.data);\n\t\t\t\t}, function(error) {\n\t\t\t\t\t$log.log(error.data);\n\t\t\t\t});\n\t\t},\n\t\tdeleteReport: function(report_id) {\n\t\t\tif (confirm(\"Delete this saved report?\")) {\n\t\t\t\t$http.post('/api/delete_post', {'post_type': 'Report_URL', 'post_id': report_id})\n\t\t\t\t\t.then(function(results) {\n\t\t\t\t\t\t$window.location.href = results.data;\n\t\t\t\t\t\t$window.location.reload();\n\t\t\t\t\t\t// $log.log(results.data);\n\t\t\t\t\t}, function(error) {\n\t\t\t\t\t\t$log.log(error);\n\t\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\tcalcTimeSpent: function(postObj, logKeyX, logs) {\n\t\t\t$log.log(logs);\n\t\t\tvar totalHours = 0;\n\n\t\t\tfunction idExistsInArr(id, arr) {\n\t\t\t\treturn arr.some(function(el) {\n\t\t\t\t\treturn el.id === id;\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tfor (var i=0, l=logs.length; i<l; i++) {\n\t\t\t\tif ((logs[i][logKeyX].id === postObj.id) || (angular.isArray(logs[i][logKeyX]) && idExistsInArr(postObj.id, logs[i][logKeyX]))) {\n\t\t\t\t\tif (logs[i].activity_hours && typeof logs[i].activity_hours !== 'undefined') {\n\t\t\t\t\t\ttotalHours += logs[i].activity_hours;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn totalHours;\n\t\t},\n\t\t// processYMetric: function(metric_val, post_type, filter, callback) {\n\t\t// \thelpers.getPosts(post_type, filter, callback);\n\t\t// },\n\t};\n}];\n","module.exports = [function() {\n\tvar chartOptions;\n\tvar WidgetTable = {};\n\n\tWidgetTable.makeTable = function(tableData) {\n\t};\n\n\treturn WidgetTable;\n}];\n"],"sourceRoot":"/source/"}