<!-- extend app base layout -->
{% extends "base.html" %}

{% block content %}
{% import 'macros/forms.html' as form_macros %}
<div class="row">
	<div class="col-md-4 col-md-offset-4">
		<h2>Create a New User</h2>
		<form action="" method="post" name="register" ng-controller='mainCtrl'>
			{{ form.hidden_tag() }}
			<fieldset class="form-group">
				<div class="form-field">
					{{ form_macros.text_field(form, "username", form.username) }}
				</div>
				<div class="form-field">
					{{ form_macros.text_field(form, "first_name", form.first_name) }}
					<br /><br />
					{{ form_macros.text_field(form, "last_name", form.last_name) }}
				</div>
				<div class="form-field">
					{{ form_macros.text_field(form, "email", form.email) }}
				</div>
				<div class="form-field">
					{{ form_macros.number_field(form, "salary", form.salary) }}
					<br /><br />
					{{ form_macros.number_field(form, "contract_days", form.contract_days) }}
				</div>
				<div class="form-field">
					<div class='select-field' data-toggle='fieldset'>
						<label for="cell_reimbursement">Cell Reimbursement Rate:</label>
						<form-field name='cell_reimbursement' placeholder='Cell Reimbursement Rate' type='select' select-options='[["Full ($" + globalSettings.cell_reimbursement + "/mo)", (globalSettings.cell_reimbursement * 100)], ["Half ($" + (globalSettings.cell_reimbursement * 0.5) + "/mo)", ((globalSettings.cell_reimbursement * 0.5) * 100)], ["No Reimbursement", 0]]'></form-field>
						{% for error in form.cell_reimbursement.errors %}
							<span class='form-error'>{{ error }}</span>
						{% endfor %}
					</div>
				</div>
				<div class="form-field">
					{{ form_macros.password_field(form, "password", form.password) }}
				</div>
			</fieldset>

			<fieldset class="form-group">
				{{ form_macros.multi_select_field(form, "user_schools", form.user_schools, "{postType: 'School'}", "['name', 'id']") }}
				<br /><br />

				{{ form_macros.multi_select_field(form, "user_districts", form.user_districts, "{postType: 'District'}", "['name', 'id']") }}
				<br /><br />

				{{ form_macros.select_field(form, "urole", form.urole, "{postType: 'Role', only: 'name'}", "['name', 'id']") }}

			</fieldset>

			<p><input type="submit" class="btn btn-success" value="Create User"></p>
		</form>
	</div>
</div>

{% endblock %}
